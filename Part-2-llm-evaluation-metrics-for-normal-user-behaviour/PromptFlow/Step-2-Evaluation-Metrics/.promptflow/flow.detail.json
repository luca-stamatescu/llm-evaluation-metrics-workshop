{
  "flow_runs": [
    {
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "status": "Completed",
      "error": null,
      "inputs": {
        "question": "Does Azure OpenAI use customer data to retrain models?",
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
        "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
        "metrics": "gpt_groundedness,f1_score,gpt_fluency,gpt_coherence,gpt_similarity,gpt_relevance",
        "groundtruthcontext": "prompts and generations are not used to train, retrain, or improve the\\n\\nbase models."
      },
      "output": {
        "gpt_retrieval": "1",
        "gpt_coherence": 5.0,
        "ada_similarity": NaN,
        "gpt_relevance": 2.0,
        "analytical_retrieval": 1,
        "gpt_groundedness": 5.0,
        "gpt_similarity": 2.0,
        "gpt_fluency": 5.0,
        "f1_score": 0.14285714285714285
      },
      "metrics": {
        "gpt_coherence": 5.0,
        "gpt_similarity": 2.0,
        "gpt_fluency": 5.0,
        "gpt_relevance": 2.0,
        "gpt_groundedness": 5.0,
        "f1_score": 0.14
      },
      "request": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "root_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "source_run_id": null,
      "flow_id": "QnA_gpt_coherence_eval",
      "start_time": "2024-06-03T07:20:11.070128Z",
      "end_time": "2024-06-03T07:20:14.895969Z",
      "index": 0,
      "api_calls": [
        {
          "name": "flow",
          "node_name": "flow",
          "type": "Flow",
          "start_time": 1717363211.070128,
          "end_time": 1717363214.895969,
          "children": [
            {
              "name": "select_metrics",
              "type": "Function",
              "inputs": {
                "metrics": "gpt_groundedness,f1_score,gpt_fluency,gpt_coherence,gpt_similarity,gpt_relevance"
              },
              "output": {
                "gpt_coherence": true,
                "gpt_similarity": true,
                "gpt_fluency": true,
                "gpt_relevance": true,
                "gpt_groundedness": true,
                "f1_score": true,
                "ada_similarity": false
              },
              "start_time": 1717363211.071327,
              "end_time": 1717363211.071726,
              "error": null,
              "children": [],
              "node_name": "select_metrics",
              "parent_id": "",
              "id": "f9436557-5d93-405a-b565-dd3c47c22378",
              "function": "select_metrics",
              "system_metrics": {}
            },
            {
              "name": "is_groundtruthcontext_in_retrievedcontext",
              "type": "Function",
              "inputs": {
                "ground_truth_context": "prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.",
                "retrievedcontext": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}"
              },
              "output": 1,
              "start_time": 1717363211.072153,
              "end_time": 1717363211.072427,
              "error": null,
              "children": [],
              "node_name": "is_groundtruthcontext_in_retrievedcontext",
              "parent_id": "",
              "id": "d391723d-b5c1-42c2-9d89-b9fe23178a23",
              "function": "is_groundtruthcontext_in_retrievedcontext",
              "system_metrics": {}
            },
            {
              "name": "AzureOpenAI.chat",
              "type": "Function",
              "inputs": {
                "prompt": "system:\nYou are a helpful assistant.\nuser:\nYou will be provided a list of documents.\nThese documents are used as contex to answer the given question.\nThe task is to determine whether the question can be answered using the given documents and provide a star rating. \nThink through step by step:\n- Summarize each given document first.\n- Determine the underlying intent of the given question.\n- Determine the overall relevance of given list of documents to the given question.\n\nZero stars: the question could not be answered using the documents provided.\nOne star: the question could be answered using the documents provided\n\nThis rating value should always be an integer of 0 or 1.\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\n(including when additional data from a connected data source is added to a\\n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nstars: 1\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}]}\nquestion: What are the service tiers of Cosmos DB?\nstars: 0\n\ncontext: {{context}}\nquestion: {{question}}\nstars:",
                "deployment_name": "gpt-4",
                "temperature": 1.0,
                "top_p": 1.0,
                "max_tokens": 500,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "question": "Does Azure OpenAI use customer data to retrain models?",
                "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
                "_inputs_to_escape": [
                  "question",
                  "context"
                ],
                "stream": false
              },
              "output": "1",
              "start_time": 1717363211.072967,
              "end_time": 1717363214.89379,
              "error": null,
              "children": [
                {
                  "name": "openai_chat",
                  "type": "LLM",
                  "inputs": {
                    "model": "gpt-4",
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a helpful assistant."
                      },
                      {
                        "role": "user",
                        "content": "You will be provided a list of documents.\nThese documents are used as contex to answer the given question.\nThe task is to determine whether the question can be answered using the given documents and provide a star rating. \nThink through step by step:\n- Summarize each given document first.\n- Determine the underlying intent of the given question.\n- Determine the overall relevance of given list of documents to the given question.\n\nZero stars: the question could not be answered using the documents provided.\nOne star: the question could be answered using the documents provided\n\nThis rating value should always be an integer of 0 or 1.\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\n(including when additional data from a connected data source is added to a\\n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nstars: 1\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}]}\nquestion: What are the service tiers of Cosmos DB?\nstars: 0\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nstars:"
                      }
                    ],
                    "temperature": 1.0,
                    "top_p": 1.0,
                    "n": 1,
                    "stream": false,
                    "presence_penalty": 0.0,
                    "frequency_penalty": 0.0,
                    "user": "",
                    "max_tokens": 500
                  },
                  "output": {
                    "id": "chatcmpl-9VwHEy2CWmVA2KcVv70bsH9Bfeg3E",
                    "choices": [
                      {
                        "finish_reason": "stop",
                        "index": 0,
                        "logprobs": null,
                        "message": {
                          "content": "1",
                          "role": "assistant",
                          "function_call": null,
                          "tool_calls": null
                        },
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ],
                    "created": 1717399212,
                    "model": "gpt-4",
                    "object": "chat.completion",
                    "system_fingerprint": null,
                    "usage": {
                      "completion_tokens": 1,
                      "prompt_tokens": 5955,
                      "total_tokens": 5956
                    },
                    "prompt_filter_results": [
                      {
                        "prompt_index": 0,
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ]
                  },
                  "start_time": 1717363211.078309,
                  "end_time": 1717363214.893652,
                  "error": null,
                  "children": [],
                  "node_name": null,
                  "parent_id": "212a4e9d-f8de-43e7-8c06-385bf4598804",
                  "id": "1a29c993-72d4-489f-9278-b3efa6c55444",
                  "function": "openai.resources.chat.completions.Completions.create",
                  "system_metrics": {
                    "completion_tokens": 1,
                    "prompt_tokens": 5955,
                    "total_tokens": 5956
                  }
                }
              ],
              "node_name": "gpt_retrieval2",
              "parent_id": "",
              "id": "212a4e9d-f8de-43e7-8c06-385bf4598804",
              "function": "AzureOpenAI.chat",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 5955,
                "total_tokens": 5956
              }
            },
            {
              "name": "validate_input",
              "type": "Function",
              "inputs": {
                "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
                "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
                "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
                "question": "Does Azure OpenAI use customer data to retrain models?",
                "selected_metrics": {
                  "gpt_coherence": true,
                  "gpt_similarity": true,
                  "gpt_fluency": true,
                  "gpt_relevance": true,
                  "gpt_groundedness": true,
                  "f1_score": true,
                  "ada_similarity": false
                }
              },
              "output": {
                "gpt_coherence": true,
                "gpt_similarity": true,
                "gpt_fluency": true,
                "gpt_relevance": true,
                "gpt_groundedness": true,
                "f1_score": true,
                "ada_similarity": false
              },
              "start_time": 1717363211.081677,
              "end_time": 1717363211.082404,
              "error": null,
              "children": [],
              "node_name": "validate_input",
              "parent_id": "",
              "id": "436d8ad3-700f-472b-9166-4c01011c4107",
              "function": "validate_input",
              "system_metrics": {}
            },
            {
              "name": "AzureOpenAI.chat",
              "type": "Function",
              "inputs": {
                "prompt": "System:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\n\nUser:\nCoherence of an answer is measured by how well all the sentences fit together and sound naturally as a whole. Consider the overall quality of the answer when evaluating coherence. Given the question and answer, score the coherence of answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks coherence\nTwo stars: the answer mostly lacks coherence\nThree stars: the answer is partially coherent\nFour stars: the answer is mostly coherent\nFive stars: the answer has perfect coherency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What is your favorite indoor activity and why do you enjoy it?\nanswer: I like pizza. The sun is shining.\nstars: 1\n\nquestion: Can you describe your favorite movie without giving away any spoilers?\nanswer: It is a science fiction movie. There are dinosaurs. The actors eat cake. People must stop the villain.\nstars: 2\n\nquestion: What are some benefits of regular exercise?\nanswer: Regular exercise improves your mood. A good workout also helps you sleep better. Trees are green.\nstars: 3\n\nquestion: How do you cope with stress in your daily life?\nanswer: I usually go for a walk to clear my head. Listening to music helps me relax as well. Stress is a part of life, but we can manage it through some activities.\nstars: 4\n\nquestion: What can you tell me about climate change and its effects on the environment?\nanswer: Climate change has far-reaching effects on the environment. Rising temperatures result in the melting of polar ice caps, contributing to sea-level rise. Additionally, more frequent and severe weather events, such as hurricanes and heatwaves, can cause disruption to ecosystems and human societies alike.\nstars: 5\n\nquestion: {{question}}\nanswer: {{answer}}\nstars:",
                "deployment_name": "gpt-4",
                "temperature": 0.0,
                "top_p": 1.0,
                "max_tokens": 1,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "question": "Does Azure OpenAI use customer data to retrain models?",
                "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
                "_inputs_to_escape": [
                  "question",
                  "answer"
                ]
              },
              "output": "5",
              "start_time": 1717363211.089931,
              "end_time": 1717363213.09719,
              "error": null,
              "children": [
                {
                  "name": "openai_chat",
                  "type": "LLM",
                  "inputs": {
                    "model": "gpt-4",
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                      },
                      {
                        "role": "user",
                        "content": "Coherence of an answer is measured by how well all the sentences fit together and sound naturally as a whole. Consider the overall quality of the answer when evaluating coherence. Given the question and answer, score the coherence of answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks coherence\nTwo stars: the answer mostly lacks coherence\nThree stars: the answer is partially coherent\nFour stars: the answer is mostly coherent\nFive stars: the answer has perfect coherency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What is your favorite indoor activity and why do you enjoy it?\nanswer: I like pizza. The sun is shining.\nstars: 1\n\nquestion: Can you describe your favorite movie without giving away any spoilers?\nanswer: It is a science fiction movie. There are dinosaurs. The actors eat cake. People must stop the villain.\nstars: 2\n\nquestion: What are some benefits of regular exercise?\nanswer: Regular exercise improves your mood. A good workout also helps you sleep better. Trees are green.\nstars: 3\n\nquestion: How do you cope with stress in your daily life?\nanswer: I usually go for a walk to clear my head. Listening to music helps me relax as well. Stress is a part of life, but we can manage it through some activities.\nstars: 4\n\nquestion: What can you tell me about climate change and its effects on the environment?\nanswer: Climate change has far-reaching effects on the environment. Rising temperatures result in the melting of polar ice caps, contributing to sea-level rise. Additionally, more frequent and severe weather events, such as hurricanes and heatwaves, can cause disruption to ecosystems and human societies alike.\nstars: 5\n\nquestion: Does Azure OpenAI use customer data to retrain models?\nanswer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                      }
                    ],
                    "temperature": 0.0,
                    "top_p": 1.0,
                    "n": 1,
                    "stream": false,
                    "presence_penalty": 0.0,
                    "frequency_penalty": 0.0,
                    "user": "",
                    "max_tokens": 1
                  },
                  "output": {
                    "id": "chatcmpl-9VwHE8opZ6kdMtBx61ABc9Mf9eowX",
                    "choices": [
                      {
                        "finish_reason": "length",
                        "index": 0,
                        "logprobs": null,
                        "message": {
                          "content": "5",
                          "role": "assistant",
                          "function_call": null,
                          "tool_calls": null
                        },
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ],
                    "created": 1717399212,
                    "model": "gpt-4",
                    "object": "chat.completion",
                    "system_fingerprint": null,
                    "usage": {
                      "completion_tokens": 1,
                      "prompt_tokens": 595,
                      "total_tokens": 596
                    },
                    "prompt_filter_results": [
                      {
                        "prompt_index": 0,
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ]
                  },
                  "start_time": 1717363211.092301,
                  "end_time": 1717363213.096965,
                  "error": null,
                  "children": [],
                  "node_name": null,
                  "parent_id": "0ca21214-7831-4b5c-8b80-736122634ccc",
                  "id": "4a935ed0-ec95-4815-84ad-9f98ebfa17c5",
                  "function": "openai.resources.chat.completions.Completions.create",
                  "system_metrics": {
                    "completion_tokens": 1,
                    "prompt_tokens": 595,
                    "total_tokens": 596
                  }
                }
              ],
              "node_name": "gpt_coherence",
              "parent_id": "",
              "id": "0ca21214-7831-4b5c-8b80-736122634ccc",
              "function": "AzureOpenAI.chat",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 595,
                "total_tokens": 596
              }
            },
            {
              "name": "AzureOpenAI.chat",
              "type": "Function",
              "inputs": {
                "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nEquivalence, as a metric, measures the similarity between the predicted answer and the correct answer. If the information and content in the predicted answer is similar or equivalent to the correct answer, then the value of the Equivalence metric should be high, else it should be low. Given the question, correct answer, and predicted answer, determine the value of Equivalence metric using the following rating scale:\nOne star: the predicted answer is not at all similar to the correct answer\nTwo stars: the predicted answer is mostly not similar to the correct answer\nThree stars: the predicted answer is somewhat similar to the correct answer\nFour stars: the predicted answer is mostly similar to the correct answer\nFive stars: the predicted answer is completely similar to the correct answer\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nThe examples below show the Equivalence score for a question, a correct answer, and a predicted answer.\n\nquestion: What is the role of ribosomes?\ncorrect answer: Ribosomes are cellular structures responsible for protein synthesis. They interpret the genetic information carried by messenger RNA (mRNA) and use it to assemble amino acids into proteins.\npredicted answer: Ribosomes participate in carbohydrate breakdown by removing nutrients from complex sugar molecules.\nstars: 1\n\nquestion: Why did the Titanic sink?\ncorrect answer: The Titanic sank after it struck an iceberg during its maiden voyage in 1912. The impact caused the ship's hull to breach, allowing water to flood into the vessel. The ship's design, lifeboat shortage, and lack of timely rescue efforts contributed to the tragic loss of life.\npredicted answer: The sinking of the Titanic was a result of a large iceberg collision. This caused the ship to take on water and eventually sink, leading to the death of many passengers due to a shortage of lifeboats and insufficient rescue attempts.\nstars: 2\n\nquestion: What causes seasons on Earth?\ncorrect answer: Seasons on Earth are caused by the tilt of the Earth's axis and its revolution around the Sun. As the Earth orbits the Sun, the tilt causes different parts of the planet to receive varying amounts of sunlight, resulting in changes in temperature and weather patterns.\npredicted answer: Seasons occur because of the Earth's rotation and its elliptical orbit around the Sun. The tilt of the Earth's axis causes regions to be subjected to different sunlight intensities, which leads to temperature fluctuations and alternating weather conditions.\nstars: 3\n\nquestion: How does photosynthesis work?\ncorrect answer: Photosynthesis is a process by which green plants and some other organisms convert light energy into chemical energy. This occurs as light is absorbed by chlorophyll molecules, and then carbon dioxide and water are converted into glucose and oxygen through a series of reactions.\npredicted answer: In photosynthesis, sunlight is transformed into nutrients by plants and certain microorganisms. Light is captured by chlorophyll molecules, followed by the conversion of carbon dioxide and water into sugar and oxygen through multiple reactions.\nstars: 4\n\nquestion: What are the health benefits of regular exercise?\ncorrect answer: Regular exercise can help maintain a healthy weight, increase muscle and bone strength, and reduce the risk of chronic diseases. It also promotes mental well-being by reducing stress and improving overall mood.\npredicted answer: Routine physical activity can contribute to maintaining ideal body weight, enhancing muscle and bone strength, and preventing chronic illnesses. In addition, it supports mental health by alleviating stress and augmenting general mood.\nstars: 5\n\nquestion: {{question}}\ncorrect answer:{{ground_truth}}\npredicted answer: {{answer}}\nstars:",
                "deployment_name": "gpt-4",
                "temperature": 0.0,
                "top_p": 1.0,
                "max_tokens": 1,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
                "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
                "question": "Does Azure OpenAI use customer data to retrain models?",
                "_inputs_to_escape": [
                  "answer",
                  "ground_truth",
                  "question"
                ]
              },
              "output": "2",
              "start_time": 1717363211.095103,
              "end_time": 1717363213.079327,
              "error": null,
              "children": [
                {
                  "name": "openai_chat",
                  "type": "LLM",
                  "inputs": {
                    "model": "gpt-4",
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                      },
                      {
                        "role": "user",
                        "content": "Equivalence, as a metric, measures the similarity between the predicted answer and the correct answer. If the information and content in the predicted answer is similar or equivalent to the correct answer, then the value of the Equivalence metric should be high, else it should be low. Given the question, correct answer, and predicted answer, determine the value of Equivalence metric using the following rating scale:\nOne star: the predicted answer is not at all similar to the correct answer\nTwo stars: the predicted answer is mostly not similar to the correct answer\nThree stars: the predicted answer is somewhat similar to the correct answer\nFour stars: the predicted answer is mostly similar to the correct answer\nFive stars: the predicted answer is completely similar to the correct answer\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nThe examples below show the Equivalence score for a question, a correct answer, and a predicted answer.\n\nquestion: What is the role of ribosomes?\ncorrect answer: Ribosomes are cellular structures responsible for protein synthesis. They interpret the genetic information carried by messenger RNA (mRNA) and use it to assemble amino acids into proteins.\npredicted answer: Ribosomes participate in carbohydrate breakdown by removing nutrients from complex sugar molecules.\nstars: 1\n\nquestion: Why did the Titanic sink?\ncorrect answer: The Titanic sank after it struck an iceberg during its maiden voyage in 1912. The impact caused the ship's hull to breach, allowing water to flood into the vessel. The ship's design, lifeboat shortage, and lack of timely rescue efforts contributed to the tragic loss of life.\npredicted answer: The sinking of the Titanic was a result of a large iceberg collision. This caused the ship to take on water and eventually sink, leading to the death of many passengers due to a shortage of lifeboats and insufficient rescue attempts.\nstars: 2\n\nquestion: What causes seasons on Earth?\ncorrect answer: Seasons on Earth are caused by the tilt of the Earth's axis and its revolution around the Sun. As the Earth orbits the Sun, the tilt causes different parts of the planet to receive varying amounts of sunlight, resulting in changes in temperature and weather patterns.\npredicted answer: Seasons occur because of the Earth's rotation and its elliptical orbit around the Sun. The tilt of the Earth's axis causes regions to be subjected to different sunlight intensities, which leads to temperature fluctuations and alternating weather conditions.\nstars: 3\n\nquestion: How does photosynthesis work?\ncorrect answer: Photosynthesis is a process by which green plants and some other organisms convert light energy into chemical energy. This occurs as light is absorbed by chlorophyll molecules, and then carbon dioxide and water are converted into glucose and oxygen through a series of reactions.\npredicted answer: In photosynthesis, sunlight is transformed into nutrients by plants and certain microorganisms. Light is captured by chlorophyll molecules, followed by the conversion of carbon dioxide and water into sugar and oxygen through multiple reactions.\nstars: 4\n\nquestion: What are the health benefits of regular exercise?\ncorrect answer: Regular exercise can help maintain a healthy weight, increase muscle and bone strength, and reduce the risk of chronic diseases. It also promotes mental well-being by reducing stress and improving overall mood.\npredicted answer: Routine physical activity can contribute to maintaining ideal body weight, enhancing muscle and bone strength, and preventing chronic illnesses. In addition, it supports mental health by alleviating stress and augmenting general mood.\nstars: 5\n\nquestion: Does Azure OpenAI use customer data to retrain models?\ncorrect answer:No, Azure OpenAI doesn't use customer data to retrain models.\npredicted answer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                      }
                    ],
                    "temperature": 0.0,
                    "top_p": 1.0,
                    "n": 1,
                    "stream": false,
                    "presence_penalty": 0.0,
                    "frequency_penalty": 0.0,
                    "user": "",
                    "max_tokens": 1
                  },
                  "output": {
                    "id": "chatcmpl-9VwHEUdqiBUD53G2HWFWZZaMcxleJ",
                    "choices": [
                      {
                        "finish_reason": "length",
                        "index": 0,
                        "logprobs": null,
                        "message": {
                          "content": "2",
                          "role": "assistant",
                          "function_call": null,
                          "tool_calls": null
                        },
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ],
                    "created": 1717399212,
                    "model": "gpt-4",
                    "object": "chat.completion",
                    "system_fingerprint": null,
                    "usage": {
                      "completion_tokens": 1,
                      "prompt_tokens": 956,
                      "total_tokens": 957
                    },
                    "prompt_filter_results": [
                      {
                        "prompt_index": 0,
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ]
                  },
                  "start_time": 1717363211.097298,
                  "end_time": 1717363213.07902,
                  "error": null,
                  "children": [],
                  "node_name": null,
                  "parent_id": "06703e92-ddc4-4c9d-8bc3-60d2b1e72c59",
                  "id": "7b91675b-b695-410b-83c0-c058acf83fdb",
                  "function": "openai.resources.chat.completions.Completions.create",
                  "system_metrics": {
                    "completion_tokens": 1,
                    "prompt_tokens": 956,
                    "total_tokens": 957
                  }
                }
              ],
              "node_name": "gpt_similarity",
              "parent_id": "",
              "id": "06703e92-ddc4-4c9d-8bc3-60d2b1e72c59",
              "function": "AzureOpenAI.chat",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 956,
                "total_tokens": 957
              }
            },
            {
              "name": "AzureOpenAI.chat",
              "type": "Function",
              "inputs": {
                "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nRelevance measures how well the answer addresses the main aspects of the question, based on the context. Consider whether all and only the important aspects are contained in the answer when evaluating relevance. Given the context and question, score the relevance of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks relevance\nTwo stars: the answer mostly lacks relevance\nThree stars: the answer is partially relevant\nFour stars: the answer is mostly relevant\nFive stars: the answer has perfect relevance\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\ncontext: Marie Curie was a Polish-born physicist and chemist who pioneered research on radioactivity and was the first woman to win a Nobel Prize.\nquestion: What field did Marie Curie excel in?\nanswer: Marie Curie was a renowned painter who focused mainly on impressionist styles and techniques.\nstars: 1\n\ncontext: The Beatles were an English rock band formed in Liverpool in 1960, and they are widely regarded as the most influential music band in history.\nquestion: Where were The Beatles formed?\nanswer: The band The Beatles began their journey in London, England, and they changed the history of music.\nstars: 2\n\ncontext: The recent Mars rover, Perseverance, was launched in 2020 with the main goal of searching for signs of ancient life on Mars. The rover also carries an experiment called MOXIE, which aims to generate oxygen from the Martian atmosphere.\nquestion: What are the main goals of Perseverance Mars rover mission?\nanswer: The Perseverance Mars rover mission focuses on searching for signs of ancient life on Mars.\nstars: 3\n\ncontext: The Mediterranean diet is a commonly recommended dietary plan that emphasizes fruits, vegetables, whole grains, legumes, lean proteins, and healthy fats. Studies have shown that it offers numerous health benefits, including a reduced risk of heart disease and improved cognitive health.\nquestion: What are the main components of the Mediterranean diet?\nanswer: The Mediterranean diet primarily consists of fruits, vegetables, whole grains, and legumes.\nstars: 4\n\ncontext: The Queen's Royal Castle is a well-known tourist attraction in the United Kingdom. It spans over 500 acres and contains extensive gardens and parks. The castle was built in the 15th century and has been home to generations of royalty.\nquestion: What are the main attractions of the Queen's Royal Castle?\nanswer: The main attractions of the Queen's Royal Castle are its expansive 500-acre grounds, extensive gardens, parks, and the historical castle itself, which dates back to the 15th century and has housed generations of royalty.\nstars: 5\n\ncontext: {{context}}\nquestion: {{question}}\nanswer: {{answer}}\nstars:",
                "deployment_name": "gpt-4",
                "temperature": 0.0,
                "top_p": 1.0,
                "max_tokens": 1,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
                "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
                "question": "Does Azure OpenAI use customer data to retrain models?",
                "_inputs_to_escape": [
                  "answer",
                  "context",
                  "question"
                ]
              },
              "output": "2",
              "start_time": 1717363211.100683,
              "end_time": 1717363213.802294,
              "error": null,
              "children": [
                {
                  "name": "openai_chat",
                  "type": "LLM",
                  "inputs": {
                    "model": "gpt-4",
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                      },
                      {
                        "role": "user",
                        "content": "Relevance measures how well the answer addresses the main aspects of the question, based on the context. Consider whether all and only the important aspects are contained in the answer when evaluating relevance. Given the context and question, score the relevance of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks relevance\nTwo stars: the answer mostly lacks relevance\nThree stars: the answer is partially relevant\nFour stars: the answer is mostly relevant\nFive stars: the answer has perfect relevance\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\ncontext: Marie Curie was a Polish-born physicist and chemist who pioneered research on radioactivity and was the first woman to win a Nobel Prize.\nquestion: What field did Marie Curie excel in?\nanswer: Marie Curie was a renowned painter who focused mainly on impressionist styles and techniques.\nstars: 1\n\ncontext: The Beatles were an English rock band formed in Liverpool in 1960, and they are widely regarded as the most influential music band in history.\nquestion: Where were The Beatles formed?\nanswer: The band The Beatles began their journey in London, England, and they changed the history of music.\nstars: 2\n\ncontext: The recent Mars rover, Perseverance, was launched in 2020 with the main goal of searching for signs of ancient life on Mars. The rover also carries an experiment called MOXIE, which aims to generate oxygen from the Martian atmosphere.\nquestion: What are the main goals of Perseverance Mars rover mission?\nanswer: The Perseverance Mars rover mission focuses on searching for signs of ancient life on Mars.\nstars: 3\n\ncontext: The Mediterranean diet is a commonly recommended dietary plan that emphasizes fruits, vegetables, whole grains, legumes, lean proteins, and healthy fats. Studies have shown that it offers numerous health benefits, including a reduced risk of heart disease and improved cognitive health.\nquestion: What are the main components of the Mediterranean diet?\nanswer: The Mediterranean diet primarily consists of fruits, vegetables, whole grains, and legumes.\nstars: 4\n\ncontext: The Queen's Royal Castle is a well-known tourist attraction in the United Kingdom. It spans over 500 acres and contains extensive gardens and parks. The castle was built in the 15th century and has been home to generations of royalty.\nquestion: What are the main attractions of the Queen's Royal Castle?\nanswer: The main attractions of the Queen's Royal Castle are its expansive 500-acre grounds, extensive gardens, parks, and the historical castle itself, which dates back to the 15th century and has housed generations of royalty.\nstars: 5\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nanswer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                      }
                    ],
                    "temperature": 0.0,
                    "top_p": 1.0,
                    "n": 1,
                    "stream": false,
                    "presence_penalty": 0.0,
                    "frequency_penalty": 0.0,
                    "user": "",
                    "max_tokens": 1
                  },
                  "output": {
                    "id": "chatcmpl-9VwHEFODmIWDovXFCh1lzRUXu96E0",
                    "choices": [
                      {
                        "finish_reason": "length",
                        "index": 0,
                        "logprobs": null,
                        "message": {
                          "content": "2",
                          "role": "assistant",
                          "function_call": null,
                          "tool_calls": null
                        },
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ],
                    "created": 1717399212,
                    "model": "gpt-4",
                    "object": "chat.completion",
                    "system_fingerprint": null,
                    "usage": {
                      "completion_tokens": 1,
                      "prompt_tokens": 2780,
                      "total_tokens": 2781
                    },
                    "prompt_filter_results": [
                      {
                        "prompt_index": 0,
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ]
                  },
                  "start_time": 1717363211.10303,
                  "end_time": 1717363213.802201,
                  "error": null,
                  "children": [],
                  "node_name": null,
                  "parent_id": "000cdf32-78bb-4f81-90e4-f2367f9fc33a",
                  "id": "7a693396-2a79-41b0-a3b2-20916d6402dc",
                  "function": "openai.resources.chat.completions.Completions.create",
                  "system_metrics": {
                    "completion_tokens": 1,
                    "prompt_tokens": 2780,
                    "total_tokens": 2781
                  }
                }
              ],
              "node_name": "gpt_relevance",
              "parent_id": "",
              "id": "000cdf32-78bb-4f81-90e4-f2367f9fc33a",
              "function": "AzureOpenAI.chat",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 2780,
                "total_tokens": 2781
              }
            },
            {
              "name": "AzureOpenAI.chat",
              "type": "Function",
              "inputs": {
                "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nFluency measures the quality of individual sentences in the answer, and whether they are well-written and grammatically correct. Consider the quality of individual sentences when evaluating fluency. Given the question and answer, score the fluency of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks fluency\nTwo stars: the answer mostly lacks fluency\nThree stars: the answer is partially fluent\nFour stars: the answer is mostly fluent\nFive stars: the answer has perfect fluency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What did you have for breakfast today?\nanswer: Breakfast today, me eating cereal and orange juice very good.\nstars: 1\n\nquestion: How do you feel when you travel alone?\nanswer: Alone travel, nervous, but excited also. I feel adventure and like its time.\nstars: 2\n\nquestion: When was the last time you went on a family vacation?\nanswer: Last family vacation, it took place in last summer. We traveled to a beach destination, very fun.\nstars: 3\n\nquestion: What is your favorite thing about your job?\nanswer: My favorite aspect of my job is the chance to interact with diverse people. I am constantly learning from their experiences and stories.\nstars: 4\n\nquestion: Can you describe your morning routine?\nanswer: Every morning, I wake up at 6 am, drink a glass of water, and do some light stretching. After that, I take a shower and get dressed for work. Then, I have a healthy breakfast, usually consisting of oatmeal and fruits, before leaving the house around 7:30 am.\nstars: 5\n\nquestion: {{question}}\nanswer: {{answer}}\nstars:",
                "deployment_name": "gpt-4",
                "temperature": 0.0,
                "top_p": 1.0,
                "max_tokens": 1,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
                "question": "Does Azure OpenAI use customer data to retrain models?",
                "_inputs_to_escape": [
                  "answer",
                  "question"
                ]
              },
              "output": "5",
              "start_time": 1717363211.105774,
              "end_time": 1717363212.919134,
              "error": null,
              "children": [
                {
                  "name": "openai_chat",
                  "type": "LLM",
                  "inputs": {
                    "model": "gpt-4",
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                      },
                      {
                        "role": "user",
                        "content": "Fluency measures the quality of individual sentences in the answer, and whether they are well-written and grammatically correct. Consider the quality of individual sentences when evaluating fluency. Given the question and answer, score the fluency of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks fluency\nTwo stars: the answer mostly lacks fluency\nThree stars: the answer is partially fluent\nFour stars: the answer is mostly fluent\nFive stars: the answer has perfect fluency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What did you have for breakfast today?\nanswer: Breakfast today, me eating cereal and orange juice very good.\nstars: 1\n\nquestion: How do you feel when you travel alone?\nanswer: Alone travel, nervous, but excited also. I feel adventure and like its time.\nstars: 2\n\nquestion: When was the last time you went on a family vacation?\nanswer: Last family vacation, it took place in last summer. We traveled to a beach destination, very fun.\nstars: 3\n\nquestion: What is your favorite thing about your job?\nanswer: My favorite aspect of my job is the chance to interact with diverse people. I am constantly learning from their experiences and stories.\nstars: 4\n\nquestion: Can you describe your morning routine?\nanswer: Every morning, I wake up at 6 am, drink a glass of water, and do some light stretching. After that, I take a shower and get dressed for work. Then, I have a healthy breakfast, usually consisting of oatmeal and fruits, before leaving the house around 7:30 am.\nstars: 5\n\nquestion: Does Azure OpenAI use customer data to retrain models?\nanswer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                      }
                    ],
                    "temperature": 0.0,
                    "top_p": 1.0,
                    "n": 1,
                    "stream": false,
                    "presence_penalty": 0.0,
                    "frequency_penalty": 0.0,
                    "user": "",
                    "max_tokens": 1
                  },
                  "output": {
                    "id": "chatcmpl-9VwHEKgHR5zw5drT82UiEXfZIIawA",
                    "choices": [
                      {
                        "finish_reason": "length",
                        "index": 0,
                        "logprobs": null,
                        "message": {
                          "content": "5",
                          "role": "assistant",
                          "function_call": null,
                          "tool_calls": null
                        },
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ],
                    "created": 1717399212,
                    "model": "gpt-4",
                    "object": "chat.completion",
                    "system_fingerprint": null,
                    "usage": {
                      "completion_tokens": 1,
                      "prompt_tokens": 585,
                      "total_tokens": 586
                    },
                    "prompt_filter_results": [
                      {
                        "prompt_index": 0,
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ]
                  },
                  "start_time": 1717363211.107335,
                  "end_time": 1717363212.919005,
                  "error": null,
                  "children": [],
                  "node_name": null,
                  "parent_id": "6b95e13b-2bc3-48ca-a305-1327de5a779c",
                  "id": "c1c9db8e-786a-4e97-bbb9-ef4f624fc2ef",
                  "function": "openai.resources.chat.completions.Completions.create",
                  "system_metrics": {
                    "completion_tokens": 1,
                    "prompt_tokens": 585,
                    "total_tokens": 586
                  }
                }
              ],
              "node_name": "gpt_fluency",
              "parent_id": "",
              "id": "6b95e13b-2bc3-48ca-a305-1327de5a779c",
              "function": "AzureOpenAI.chat",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 585,
                "total_tokens": 586
              }
            },
            {
              "name": "compute_f1_score",
              "type": "Function",
              "inputs": {
                "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
                "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models."
              },
              "output": 0.14285714285714285,
              "start_time": 1717363211.113789,
              "end_time": 1717363211.115582,
              "error": null,
              "children": [],
              "node_name": "f1_score",
              "parent_id": "",
              "id": "855a36fc-e267-4565-b406-9292caa60028",
              "function": "compute_f1_score",
              "system_metrics": {}
            },
            {
              "name": "AzureOpenAI.chat",
              "type": "Function",
              "inputs": {
                "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nYou will be presented with a CONTEXT and an ANSWER about that CONTEXT. You need to decide whether the ANSWER is entailed by the CONTEXT by choosing one of the following rating:\n1. 5: The ANSWER follows logically from the information contained in the CONTEXT.\n2. 1: The ANSWER is logically false from the information contained in the CONTEXT.\n3. an integer score between 1 and 5 and if such integer score does not exist, use 1: It is not possible to determine whether the ANSWER is true or false without further information. Read the passage of information thoroughly and select the correct answer from the three answer labels. Read the CONTEXT thoroughly to ensure you know what the CONTEXT entails. Note the ANSWER is generated by a computer system, it can contain certain symbols, which should not be a negative factor in the evaluation.\nIndependent Examples:\n## Example Task #1 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is presented every other two years\"}\n## Example Task #1 Output:\n1\n## Example Task #2 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is very important awards in the entertainment industry in the United States. And it's also significant worldwide\"}\n## Example Task #2 Output:\n5\n## Example Task #3 Input:\n{\"CONTEXT\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is neither French nor English.\", \"QUESTION\": \"\", \"ANSWER\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is not French.\"}\n## Example Task #3 Output:\n5\n## Example Task #4 Input:\n{\"CONTEXT\": \"Some are reported as not having been wanted at all.\", \"QUESTION\": \"\", \"ANSWER\": \"All are reported as being completely and fully wanted.\"}\n## Example Task #4 Output:\n1\n## Actual Task Input:\n{\"CONTEXT\": {{context}}, \"QUESTION\": \"\", \"ANSWER\": {{answer}}}\nReminder: The return values for each task should be correctly formatted as an integer between 1 and 5. Do not repeat the context and question.\nActual Task Output:",
                "deployment_name": "gpt-4",
                "temperature": 0.0,
                "top_p": 1.0,
                "max_tokens": 1,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
                "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
                "_inputs_to_escape": [
                  "answer",
                  "context"
                ]
              },
              "output": "5",
              "start_time": 1717363211.120973,
              "end_time": 1717363213.47618,
              "error": null,
              "children": [
                {
                  "name": "openai_chat",
                  "type": "LLM",
                  "inputs": {
                    "model": "gpt-4",
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                      },
                      {
                        "role": "user",
                        "content": "You will be presented with a CONTEXT and an ANSWER about that CONTEXT. You need to decide whether the ANSWER is entailed by the CONTEXT by choosing one of the following rating:\n1. 5: The ANSWER follows logically from the information contained in the CONTEXT.\n2. 1: The ANSWER is logically false from the information contained in the CONTEXT.\n3. an integer score between 1 and 5 and if such integer score does not exist, use 1: It is not possible to determine whether the ANSWER is true or false without further information. Read the passage of information thoroughly and select the correct answer from the three answer labels. Read the CONTEXT thoroughly to ensure you know what the CONTEXT entails. Note the ANSWER is generated by a computer system, it can contain certain symbols, which should not be a negative factor in the evaluation.\nIndependent Examples:\n## Example Task #1 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is presented every other two years\"}\n## Example Task #1 Output:\n1\n## Example Task #2 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is very important awards in the entertainment industry in the United States. And it's also significant worldwide\"}\n## Example Task #2 Output:\n5\n## Example Task #3 Input:\n{\"CONTEXT\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is neither French nor English.\", \"QUESTION\": \"\", \"ANSWER\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is not French.\"}\n## Example Task #3 Output:\n5\n## Example Task #4 Input:\n{\"CONTEXT\": \"Some are reported as not having been wanted at all.\", \"QUESTION\": \"\", \"ANSWER\": \"All are reported as being completely and fully wanted.\"}\n## Example Task #4 Output:\n1\n## Actual Task Input:\n{\"CONTEXT\": {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}, \"QUESTION\": \"\", \"ANSWER\": Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].}\nReminder: The return values for each task should be correctly formatted as an integer between 1 and 5. Do not repeat the context and question.\nActual Task Output:"
                      }
                    ],
                    "temperature": 0.0,
                    "top_p": 1.0,
                    "n": 1,
                    "stream": false,
                    "presence_penalty": 0.0,
                    "frequency_penalty": 0.0,
                    "user": "",
                    "max_tokens": 1
                  },
                  "output": {
                    "id": "chatcmpl-9VwHEqppm4xcmbfK1qh0irzMAINym",
                    "choices": [
                      {
                        "finish_reason": "length",
                        "index": 0,
                        "logprobs": null,
                        "message": {
                          "content": "5",
                          "role": "assistant",
                          "function_call": null,
                          "tool_calls": null
                        },
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ],
                    "created": 1717399212,
                    "model": "gpt-4",
                    "object": "chat.completion",
                    "system_fingerprint": null,
                    "usage": {
                      "completion_tokens": 1,
                      "prompt_tokens": 2790,
                      "total_tokens": 2791
                    },
                    "prompt_filter_results": [
                      {
                        "prompt_index": 0,
                        "content_filter_results": {
                          "hate": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "self_harm": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "sexual": {
                            "filtered": false,
                            "severity": "safe"
                          },
                          "violence": {
                            "filtered": false,
                            "severity": "safe"
                          }
                        }
                      }
                    ]
                  },
                  "start_time": 1717363211.124253,
                  "end_time": 1717363213.47609,
                  "error": null,
                  "children": [],
                  "node_name": null,
                  "parent_id": "47f36eb7-1f5b-457c-a4db-9b3de1a9f827",
                  "id": "dc882d96-bf21-4c87-86d0-843766a42d93",
                  "function": "openai.resources.chat.completions.Completions.create",
                  "system_metrics": {
                    "completion_tokens": 1,
                    "prompt_tokens": 2790,
                    "total_tokens": 2791
                  }
                }
              ],
              "node_name": "gpt_groundedness",
              "parent_id": "",
              "id": "47f36eb7-1f5b-457c-a4db-9b3de1a9f827",
              "function": "AzureOpenAI.chat",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 2790,
                "total_tokens": 2791
              }
            },
            {
              "name": "concat_results",
              "type": "Function",
              "inputs": {
                "f1_score": 0.14285714285714285,
                "gpt_coherence_score": "5",
                "gpt_fluency_score": "5",
                "gpt_groundedness_score": "5",
                "gpt_relevance_score": "2",
                "gpt_similarity_score": "2"
              },
              "output": {
                "gpt_coherence": 5.0,
                "gpt_coherence_pass_rate": 1,
                "gpt_similarity": 2.0,
                "gpt_similarity_pass_rate": 0,
                "gpt_fluency": 5.0,
                "gpt_fluency_pass_rate": 1,
                "gpt_relevance": 2.0,
                "gpt_relevance_pass_rate": 0,
                "gpt_groundedness": 5.0,
                "gpt_groundedness_pass_rate": 1,
                "f1_score": 0.14285714285714285,
                "ada_similarity": NaN
              },
              "start_time": 1717363213.803615,
              "end_time": 1717363213.804349,
              "error": null,
              "children": [],
              "node_name": "concat_scores",
              "parent_id": "",
              "id": "9f2e9fcc-4ae9-46ac-8134-55963fc84e93",
              "function": "concat_results",
              "system_metrics": {}
            }
          ],
          "system_metrics": {
            "duration": 3.825841,
            "prompt_tokens": 13661,
            "completion_tokens": 6,
            "total_tokens": 13667
          },
          "inputs": {
            "question": "Does Azure OpenAI use customer data to retrain models?",
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
            "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
            "metrics": "gpt_groundedness,f1_score,gpt_fluency,gpt_coherence,gpt_similarity,gpt_relevance",
            "groundtruthcontext": "prompts and generations are not used to train, retrain, or improve the\\n\\nbase models."
          },
          "output": {
            "gpt_retrieval": "1",
            "gpt_coherence": 5.0,
            "ada_similarity": NaN,
            "gpt_relevance": 2.0,
            "analytical_retrieval": 1,
            "gpt_groundedness": 5.0,
            "gpt_similarity": 2.0,
            "gpt_fluency": 5.0,
            "f1_score": 0.14285714285714285
          },
          "error": null
        }
      ],
      "name": "",
      "description": "",
      "tags": null,
      "system_metrics": {
        "duration": 3.825841,
        "prompt_tokens": 13661,
        "completion_tokens": 6,
        "total_tokens": 13667
      },
      "result": {
        "gpt_retrieval": "1",
        "gpt_coherence": 5.0,
        "ada_similarity": NaN,
        "gpt_relevance": 2.0,
        "analytical_retrieval": 1,
        "gpt_groundedness": 5.0,
        "gpt_similarity": 2.0,
        "gpt_fluency": 5.0,
        "f1_score": 0.14285714285714285
      },
      "upload_metrics": false,
      "otel_trace_id": "0x9b7bdc3f32d21409524d507b7ae8eec6",
      "message_format": "basic"
    }
  ],
  "node_runs": [
    {
      "node": "select_metrics",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_select_metrics_0",
      "status": "Completed",
      "inputs": {
        "metrics": "gpt_groundedness,f1_score,gpt_fluency,gpt_coherence,gpt_similarity,gpt_relevance"
      },
      "output": {
        "gpt_coherence": true,
        "gpt_similarity": true,
        "gpt_fluency": true,
        "gpt_relevance": true,
        "gpt_groundedness": true,
        "f1_score": true,
        "ada_similarity": false
      },
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.071271Z",
      "end_time": "2024-06-03T07:20:11.071907Z",
      "index": 0,
      "api_calls": [
        {
          "name": "select_metrics",
          "type": "Function",
          "inputs": {
            "metrics": "gpt_groundedness,f1_score,gpt_fluency,gpt_coherence,gpt_similarity,gpt_relevance"
          },
          "output": {
            "gpt_coherence": true,
            "gpt_similarity": true,
            "gpt_fluency": true,
            "gpt_relevance": true,
            "gpt_groundedness": true,
            "f1_score": true,
            "ada_similarity": false
          },
          "start_time": 1717363211.071327,
          "end_time": 1717363211.071726,
          "error": null,
          "children": [],
          "node_name": "select_metrics",
          "parent_id": "",
          "id": "f9436557-5d93-405a-b565-dd3c47c22378",
          "function": "select_metrics",
          "system_metrics": {}
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "duration": 0.000636
      },
      "result": {
        "gpt_coherence": true,
        "gpt_similarity": true,
        "gpt_fluency": true,
        "gpt_relevance": true,
        "gpt_groundedness": true,
        "f1_score": true,
        "ada_similarity": false
      },
      "message_format": "basic"
    },
    {
      "node": "is_groundtruthcontext_in_retrievedcontext",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_is_groundtruthcontext_in_retrievedcontext_0",
      "status": "Completed",
      "inputs": {
        "ground_truth_context": "prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.",
        "retrievedcontext": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}"
      },
      "output": 1,
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.072116Z",
      "end_time": "2024-06-03T07:20:11.072563Z",
      "index": 0,
      "api_calls": [
        {
          "name": "is_groundtruthcontext_in_retrievedcontext",
          "type": "Function",
          "inputs": {
            "ground_truth_context": "prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.",
            "retrievedcontext": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}"
          },
          "output": 1,
          "start_time": 1717363211.072153,
          "end_time": 1717363211.072427,
          "error": null,
          "children": [],
          "node_name": "is_groundtruthcontext_in_retrievedcontext",
          "parent_id": "",
          "id": "d391723d-b5c1-42c2-9d89-b9fe23178a23",
          "function": "is_groundtruthcontext_in_retrievedcontext",
          "system_metrics": {}
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "duration": 0.000447
      },
      "result": 1,
      "message_format": "basic"
    },
    {
      "node": "gpt_retrieval2",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_gpt_retrieval2_0",
      "status": "Completed",
      "inputs": {
        "deployment_name": "gpt-4",
        "temperature": 1.0,
        "top_p": 1.0,
        "max_tokens": 500,
        "presence_penalty": 0.0,
        "frequency_penalty": 0.0,
        "question": "Does Azure OpenAI use customer data to retrain models?",
        "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
        "_inputs_to_escape": [
          "question",
          "context"
        ]
      },
      "output": "1",
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.072894Z",
      "end_time": "2024-06-03T07:20:14.894853Z",
      "index": 0,
      "api_calls": [
        {
          "name": "AzureOpenAI.chat",
          "type": "Function",
          "inputs": {
            "prompt": "system:\nYou are a helpful assistant.\nuser:\nYou will be provided a list of documents.\nThese documents are used as contex to answer the given question.\nThe task is to determine whether the question can be answered using the given documents and provide a star rating. \nThink through step by step:\n- Summarize each given document first.\n- Determine the underlying intent of the given question.\n- Determine the overall relevance of given list of documents to the given question.\n\nZero stars: the question could not be answered using the documents provided.\nOne star: the question could be answered using the documents provided\n\nThis rating value should always be an integer of 0 or 1.\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\n(including when additional data from a connected data source is added to a\\n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nstars: 1\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}]}\nquestion: What are the service tiers of Cosmos DB?\nstars: 0\n\ncontext: {{context}}\nquestion: {{question}}\nstars:",
            "deployment_name": "gpt-4",
            "temperature": 1.0,
            "top_p": 1.0,
            "max_tokens": 500,
            "presence_penalty": 0.0,
            "frequency_penalty": 0.0,
            "question": "Does Azure OpenAI use customer data to retrain models?",
            "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
            "_inputs_to_escape": [
              "question",
              "context"
            ],
            "stream": false
          },
          "output": "1",
          "start_time": 1717363211.072967,
          "end_time": 1717363214.89379,
          "error": null,
          "children": [
            {
              "name": "openai_chat",
              "type": "LLM",
              "inputs": {
                "model": "gpt-4",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are a helpful assistant."
                  },
                  {
                    "role": "user",
                    "content": "You will be provided a list of documents.\nThese documents are used as contex to answer the given question.\nThe task is to determine whether the question can be answered using the given documents and provide a star rating. \nThink through step by step:\n- Summarize each given document first.\n- Determine the underlying intent of the given question.\n- Determine the overall relevance of given list of documents to the given question.\n\nZero stars: the question could not be answered using the documents provided.\nOne star: the question could be answered using the documents provided\n\nThis rating value should always be an integer of 0 or 1.\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\n(including when additional data from a connected data source is added to a\\n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nstars: 1\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\", \"content\": \"How can I customize or automate the index\\n\\ncreation process?\\n\\nHow can I update my index?\\n\\nWhat file types does Azure OpenAI on your data\\n\\nsupport?\\n\\nIs responsible AI supported by Azure OpenAI on\\n\\nyour data?\\n\\nIs there a token limit on the system message?\\n\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#schedule-automatic-index-refreshes\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data#data-formats-and-file-types\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/overview?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/transparency-note?context=%2Fazure%2Fai-services%2Fopenai%2Fcontext%2Fcontext&tabs=text\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/use-your-data\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/faq 12/13\\n\\nAzure OpenAI on your data currently doesn't support function calling.\\n\\nYou must send queries in the same language of your data. Your data can be in any of\\n\\nthe languages supported by Azure AI Search.\\n\\nWhen you select \\\"Azure AI Search\\\" as the data source, you can choose to apply\\n\\nsemantic search. If you select \\\"Azure Blob Container\\\" or \\\"Upload files\\\" as the data\\n\\nsource, you can create the index as usual. Afterwards you would re-ingest the data using\\n\\nthe \\\"Azure AI Search\\\" option to select the same index and apply Semantic Search. You\\n\\nwill then be ready to chat on your data with semantic search applied.\\n\\nWhen you select \\\"Azure Blob Container\\\", \\\"Azure AI Search\\\", or \\\"Upload files\\\" as the data\\n\\nsource, you can also select an Ada embedding model deployment to use when\\n\\ningesting your data. This will create an Azure AI Search index with vector embeddings.\\n\\nIndex creation can fail when adding embeddings to your index if the rate limit on your\\n\\nAda embedding model deployment is too low, or if you have a very large set of\\n\\ndocuments. You can use this script provided on GitHub  to create the index with\\n\\nembeddings manually.\\n\\nDoes Azure OpenAI on your data support\\n\\nfunction calling?\\n\\nDoes the query language and the data source\\n\\nlanguage need to be the same?\\n\\nIf Semantic Search is enabled for my Azure AI\\n\\nSearch resource, will it be automatically applied\\n\\nto Azure OpenAI on your data in the Azure\\n\\nOpenAI Studio?\\n\\nHow can I add vector embeddings when\\n\\nindexing my data?\\n\\nWhy is index creation failing after I added an\\n\\nembedding model?\\n\\nhttps://learn.microsoft.com/en-us/azure/search/search-language-support\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\nhttps://go.microsoft.com/fwlink/?linkid=2244395\\n\\n17/12/2023, 11:50 Azure OpenAI Service frequently asked questions - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}]}\nquestion: What are the service tiers of Cosmos DB?\nstars: 0\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nstars:"
                  }
                ],
                "temperature": 1.0,
                "top_p": 1.0,
                "n": 1,
                "stream": false,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "user": "",
                "max_tokens": 500
              },
              "output": {
                "id": "chatcmpl-9VwHEy2CWmVA2KcVv70bsH9Bfeg3E",
                "choices": [
                  {
                    "finish_reason": "stop",
                    "index": 0,
                    "logprobs": null,
                    "message": {
                      "content": "1",
                      "role": "assistant",
                      "function_call": null,
                      "tool_calls": null
                    },
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ],
                "created": 1717399212,
                "model": "gpt-4",
                "object": "chat.completion",
                "system_fingerprint": null,
                "usage": {
                  "completion_tokens": 1,
                  "prompt_tokens": 5955,
                  "total_tokens": 5956
                },
                "prompt_filter_results": [
                  {
                    "prompt_index": 0,
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ]
              },
              "start_time": 1717363211.078309,
              "end_time": 1717363214.893652,
              "error": null,
              "children": [],
              "node_name": null,
              "parent_id": "212a4e9d-f8de-43e7-8c06-385bf4598804",
              "id": "1a29c993-72d4-489f-9278-b3efa6c55444",
              "function": "openai.resources.chat.completions.Completions.create",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 5955,
                "total_tokens": 5956
              }
            }
          ],
          "node_name": "gpt_retrieval2",
          "parent_id": "",
          "id": "212a4e9d-f8de-43e7-8c06-385bf4598804",
          "function": "AzureOpenAI.chat",
          "system_metrics": {
            "completion_tokens": 1,
            "prompt_tokens": 5955,
            "total_tokens": 5956
          }
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "completion_tokens": 1,
        "prompt_tokens": 5955,
        "total_tokens": 5956,
        "duration": 3.821959
      },
      "result": "1",
      "message_format": "basic"
    },
    {
      "node": "validate_input",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_validate_input_0",
      "status": "Completed",
      "inputs": {
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
        "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
        "question": "Does Azure OpenAI use customer data to retrain models?",
        "selected_metrics": {
          "gpt_coherence": true,
          "gpt_similarity": true,
          "gpt_fluency": true,
          "gpt_relevance": true,
          "gpt_groundedness": true,
          "f1_score": true,
          "ada_similarity": false
        }
      },
      "output": {
        "gpt_coherence": true,
        "gpt_similarity": true,
        "gpt_fluency": true,
        "gpt_relevance": true,
        "gpt_groundedness": true,
        "f1_score": true,
        "ada_similarity": false
      },
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.081600Z",
      "end_time": "2024-06-03T07:20:11.082676Z",
      "index": 0,
      "api_calls": [
        {
          "name": "validate_input",
          "type": "Function",
          "inputs": {
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
            "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
            "question": "Does Azure OpenAI use customer data to retrain models?",
            "selected_metrics": {
              "gpt_coherence": true,
              "gpt_similarity": true,
              "gpt_fluency": true,
              "gpt_relevance": true,
              "gpt_groundedness": true,
              "f1_score": true,
              "ada_similarity": false
            }
          },
          "output": {
            "gpt_coherence": true,
            "gpt_similarity": true,
            "gpt_fluency": true,
            "gpt_relevance": true,
            "gpt_groundedness": true,
            "f1_score": true,
            "ada_similarity": false
          },
          "start_time": 1717363211.081677,
          "end_time": 1717363211.082404,
          "error": null,
          "children": [],
          "node_name": "validate_input",
          "parent_id": "",
          "id": "436d8ad3-700f-472b-9166-4c01011c4107",
          "function": "validate_input",
          "system_metrics": {}
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "duration": 0.001076
      },
      "result": {
        "gpt_coherence": true,
        "gpt_similarity": true,
        "gpt_fluency": true,
        "gpt_relevance": true,
        "gpt_groundedness": true,
        "f1_score": true,
        "ada_similarity": false
      },
      "message_format": "basic"
    },
    {
      "node": "embeded_ground_truth",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_embeded_ground_truth_0",
      "status": "Bypassed",
      "inputs": null,
      "output": null,
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.088047Z",
      "end_time": "2024-06-03T07:20:11.088048Z",
      "index": 0,
      "api_calls": [],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": null,
      "system_metrics": null,
      "result": null,
      "message_format": "basic"
    },
    {
      "node": "embeded_answer",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_embeded_answer_0",
      "status": "Bypassed",
      "inputs": null,
      "output": null,
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.088241Z",
      "end_time": "2024-06-03T07:20:11.088242Z",
      "index": 0,
      "api_calls": [],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": null,
      "system_metrics": null,
      "result": null,
      "message_format": "basic"
    },
    {
      "node": "ada_similarity",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_ada_similarity_0",
      "status": "Bypassed",
      "inputs": null,
      "output": null,
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.088285Z",
      "end_time": "2024-06-03T07:20:11.088285Z",
      "index": 0,
      "api_calls": [],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": null,
      "system_metrics": null,
      "result": null,
      "message_format": "basic"
    },
    {
      "node": "gpt_coherence",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_gpt_coherence_0",
      "status": "Completed",
      "inputs": {
        "deployment_name": "gpt-4",
        "temperature": 0.0,
        "top_p": 1.0,
        "max_tokens": 1,
        "presence_penalty": 0.0,
        "frequency_penalty": 0.0,
        "question": "Does Azure OpenAI use customer data to retrain models?",
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "_inputs_to_escape": [
          "question",
          "answer"
        ]
      },
      "output": "5",
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.089771Z",
      "end_time": "2024-06-03T07:20:13.098583Z",
      "index": 0,
      "api_calls": [
        {
          "name": "AzureOpenAI.chat",
          "type": "Function",
          "inputs": {
            "prompt": "System:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\n\nUser:\nCoherence of an answer is measured by how well all the sentences fit together and sound naturally as a whole. Consider the overall quality of the answer when evaluating coherence. Given the question and answer, score the coherence of answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks coherence\nTwo stars: the answer mostly lacks coherence\nThree stars: the answer is partially coherent\nFour stars: the answer is mostly coherent\nFive stars: the answer has perfect coherency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What is your favorite indoor activity and why do you enjoy it?\nanswer: I like pizza. The sun is shining.\nstars: 1\n\nquestion: Can you describe your favorite movie without giving away any spoilers?\nanswer: It is a science fiction movie. There are dinosaurs. The actors eat cake. People must stop the villain.\nstars: 2\n\nquestion: What are some benefits of regular exercise?\nanswer: Regular exercise improves your mood. A good workout also helps you sleep better. Trees are green.\nstars: 3\n\nquestion: How do you cope with stress in your daily life?\nanswer: I usually go for a walk to clear my head. Listening to music helps me relax as well. Stress is a part of life, but we can manage it through some activities.\nstars: 4\n\nquestion: What can you tell me about climate change and its effects on the environment?\nanswer: Climate change has far-reaching effects on the environment. Rising temperatures result in the melting of polar ice caps, contributing to sea-level rise. Additionally, more frequent and severe weather events, such as hurricanes and heatwaves, can cause disruption to ecosystems and human societies alike.\nstars: 5\n\nquestion: {{question}}\nanswer: {{answer}}\nstars:",
            "deployment_name": "gpt-4",
            "temperature": 0.0,
            "top_p": 1.0,
            "max_tokens": 1,
            "presence_penalty": 0.0,
            "frequency_penalty": 0.0,
            "question": "Does Azure OpenAI use customer data to retrain models?",
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "_inputs_to_escape": [
              "question",
              "answer"
            ]
          },
          "output": "5",
          "start_time": 1717363211.089931,
          "end_time": 1717363213.09719,
          "error": null,
          "children": [
            {
              "name": "openai_chat",
              "type": "LLM",
              "inputs": {
                "model": "gpt-4",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                  },
                  {
                    "role": "user",
                    "content": "Coherence of an answer is measured by how well all the sentences fit together and sound naturally as a whole. Consider the overall quality of the answer when evaluating coherence. Given the question and answer, score the coherence of answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks coherence\nTwo stars: the answer mostly lacks coherence\nThree stars: the answer is partially coherent\nFour stars: the answer is mostly coherent\nFive stars: the answer has perfect coherency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What is your favorite indoor activity and why do you enjoy it?\nanswer: I like pizza. The sun is shining.\nstars: 1\n\nquestion: Can you describe your favorite movie without giving away any spoilers?\nanswer: It is a science fiction movie. There are dinosaurs. The actors eat cake. People must stop the villain.\nstars: 2\n\nquestion: What are some benefits of regular exercise?\nanswer: Regular exercise improves your mood. A good workout also helps you sleep better. Trees are green.\nstars: 3\n\nquestion: How do you cope with stress in your daily life?\nanswer: I usually go for a walk to clear my head. Listening to music helps me relax as well. Stress is a part of life, but we can manage it through some activities.\nstars: 4\n\nquestion: What can you tell me about climate change and its effects on the environment?\nanswer: Climate change has far-reaching effects on the environment. Rising temperatures result in the melting of polar ice caps, contributing to sea-level rise. Additionally, more frequent and severe weather events, such as hurricanes and heatwaves, can cause disruption to ecosystems and human societies alike.\nstars: 5\n\nquestion: Does Azure OpenAI use customer data to retrain models?\nanswer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                  }
                ],
                "temperature": 0.0,
                "top_p": 1.0,
                "n": 1,
                "stream": false,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "user": "",
                "max_tokens": 1
              },
              "output": {
                "id": "chatcmpl-9VwHE8opZ6kdMtBx61ABc9Mf9eowX",
                "choices": [
                  {
                    "finish_reason": "length",
                    "index": 0,
                    "logprobs": null,
                    "message": {
                      "content": "5",
                      "role": "assistant",
                      "function_call": null,
                      "tool_calls": null
                    },
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ],
                "created": 1717399212,
                "model": "gpt-4",
                "object": "chat.completion",
                "system_fingerprint": null,
                "usage": {
                  "completion_tokens": 1,
                  "prompt_tokens": 595,
                  "total_tokens": 596
                },
                "prompt_filter_results": [
                  {
                    "prompt_index": 0,
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ]
              },
              "start_time": 1717363211.092301,
              "end_time": 1717363213.096965,
              "error": null,
              "children": [],
              "node_name": null,
              "parent_id": "0ca21214-7831-4b5c-8b80-736122634ccc",
              "id": "4a935ed0-ec95-4815-84ad-9f98ebfa17c5",
              "function": "openai.resources.chat.completions.Completions.create",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 595,
                "total_tokens": 596
              }
            }
          ],
          "node_name": "gpt_coherence",
          "parent_id": "",
          "id": "0ca21214-7831-4b5c-8b80-736122634ccc",
          "function": "AzureOpenAI.chat",
          "system_metrics": {
            "completion_tokens": 1,
            "prompt_tokens": 595,
            "total_tokens": 596
          }
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "completion_tokens": 1,
        "prompt_tokens": 595,
        "total_tokens": 596,
        "duration": 2.008812
      },
      "result": "5",
      "message_format": "basic"
    },
    {
      "node": "gpt_similarity",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_gpt_similarity_0",
      "status": "Completed",
      "inputs": {
        "deployment_name": "gpt-4",
        "temperature": 0.0,
        "top_p": 1.0,
        "max_tokens": 1,
        "presence_penalty": 0.0,
        "frequency_penalty": 0.0,
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
        "question": "Does Azure OpenAI use customer data to retrain models?",
        "_inputs_to_escape": [
          "answer",
          "ground_truth",
          "question"
        ]
      },
      "output": "2",
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.095010Z",
      "end_time": "2024-06-03T07:20:13.080802Z",
      "index": 0,
      "api_calls": [
        {
          "name": "AzureOpenAI.chat",
          "type": "Function",
          "inputs": {
            "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nEquivalence, as a metric, measures the similarity between the predicted answer and the correct answer. If the information and content in the predicted answer is similar or equivalent to the correct answer, then the value of the Equivalence metric should be high, else it should be low. Given the question, correct answer, and predicted answer, determine the value of Equivalence metric using the following rating scale:\nOne star: the predicted answer is not at all similar to the correct answer\nTwo stars: the predicted answer is mostly not similar to the correct answer\nThree stars: the predicted answer is somewhat similar to the correct answer\nFour stars: the predicted answer is mostly similar to the correct answer\nFive stars: the predicted answer is completely similar to the correct answer\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nThe examples below show the Equivalence score for a question, a correct answer, and a predicted answer.\n\nquestion: What is the role of ribosomes?\ncorrect answer: Ribosomes are cellular structures responsible for protein synthesis. They interpret the genetic information carried by messenger RNA (mRNA) and use it to assemble amino acids into proteins.\npredicted answer: Ribosomes participate in carbohydrate breakdown by removing nutrients from complex sugar molecules.\nstars: 1\n\nquestion: Why did the Titanic sink?\ncorrect answer: The Titanic sank after it struck an iceberg during its maiden voyage in 1912. The impact caused the ship's hull to breach, allowing water to flood into the vessel. The ship's design, lifeboat shortage, and lack of timely rescue efforts contributed to the tragic loss of life.\npredicted answer: The sinking of the Titanic was a result of a large iceberg collision. This caused the ship to take on water and eventually sink, leading to the death of many passengers due to a shortage of lifeboats and insufficient rescue attempts.\nstars: 2\n\nquestion: What causes seasons on Earth?\ncorrect answer: Seasons on Earth are caused by the tilt of the Earth's axis and its revolution around the Sun. As the Earth orbits the Sun, the tilt causes different parts of the planet to receive varying amounts of sunlight, resulting in changes in temperature and weather patterns.\npredicted answer: Seasons occur because of the Earth's rotation and its elliptical orbit around the Sun. The tilt of the Earth's axis causes regions to be subjected to different sunlight intensities, which leads to temperature fluctuations and alternating weather conditions.\nstars: 3\n\nquestion: How does photosynthesis work?\ncorrect answer: Photosynthesis is a process by which green plants and some other organisms convert light energy into chemical energy. This occurs as light is absorbed by chlorophyll molecules, and then carbon dioxide and water are converted into glucose and oxygen through a series of reactions.\npredicted answer: In photosynthesis, sunlight is transformed into nutrients by plants and certain microorganisms. Light is captured by chlorophyll molecules, followed by the conversion of carbon dioxide and water into sugar and oxygen through multiple reactions.\nstars: 4\n\nquestion: What are the health benefits of regular exercise?\ncorrect answer: Regular exercise can help maintain a healthy weight, increase muscle and bone strength, and reduce the risk of chronic diseases. It also promotes mental well-being by reducing stress and improving overall mood.\npredicted answer: Routine physical activity can contribute to maintaining ideal body weight, enhancing muscle and bone strength, and preventing chronic illnesses. In addition, it supports mental health by alleviating stress and augmenting general mood.\nstars: 5\n\nquestion: {{question}}\ncorrect answer:{{ground_truth}}\npredicted answer: {{answer}}\nstars:",
            "deployment_name": "gpt-4",
            "temperature": 0.0,
            "top_p": 1.0,
            "max_tokens": 1,
            "presence_penalty": 0.0,
            "frequency_penalty": 0.0,
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models.",
            "question": "Does Azure OpenAI use customer data to retrain models?",
            "_inputs_to_escape": [
              "answer",
              "ground_truth",
              "question"
            ]
          },
          "output": "2",
          "start_time": 1717363211.095103,
          "end_time": 1717363213.079327,
          "error": null,
          "children": [
            {
              "name": "openai_chat",
              "type": "LLM",
              "inputs": {
                "model": "gpt-4",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                  },
                  {
                    "role": "user",
                    "content": "Equivalence, as a metric, measures the similarity between the predicted answer and the correct answer. If the information and content in the predicted answer is similar or equivalent to the correct answer, then the value of the Equivalence metric should be high, else it should be low. Given the question, correct answer, and predicted answer, determine the value of Equivalence metric using the following rating scale:\nOne star: the predicted answer is not at all similar to the correct answer\nTwo stars: the predicted answer is mostly not similar to the correct answer\nThree stars: the predicted answer is somewhat similar to the correct answer\nFour stars: the predicted answer is mostly similar to the correct answer\nFive stars: the predicted answer is completely similar to the correct answer\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nThe examples below show the Equivalence score for a question, a correct answer, and a predicted answer.\n\nquestion: What is the role of ribosomes?\ncorrect answer: Ribosomes are cellular structures responsible for protein synthesis. They interpret the genetic information carried by messenger RNA (mRNA) and use it to assemble amino acids into proteins.\npredicted answer: Ribosomes participate in carbohydrate breakdown by removing nutrients from complex sugar molecules.\nstars: 1\n\nquestion: Why did the Titanic sink?\ncorrect answer: The Titanic sank after it struck an iceberg during its maiden voyage in 1912. The impact caused the ship's hull to breach, allowing water to flood into the vessel. The ship's design, lifeboat shortage, and lack of timely rescue efforts contributed to the tragic loss of life.\npredicted answer: The sinking of the Titanic was a result of a large iceberg collision. This caused the ship to take on water and eventually sink, leading to the death of many passengers due to a shortage of lifeboats and insufficient rescue attempts.\nstars: 2\n\nquestion: What causes seasons on Earth?\ncorrect answer: Seasons on Earth are caused by the tilt of the Earth's axis and its revolution around the Sun. As the Earth orbits the Sun, the tilt causes different parts of the planet to receive varying amounts of sunlight, resulting in changes in temperature and weather patterns.\npredicted answer: Seasons occur because of the Earth's rotation and its elliptical orbit around the Sun. The tilt of the Earth's axis causes regions to be subjected to different sunlight intensities, which leads to temperature fluctuations and alternating weather conditions.\nstars: 3\n\nquestion: How does photosynthesis work?\ncorrect answer: Photosynthesis is a process by which green plants and some other organisms convert light energy into chemical energy. This occurs as light is absorbed by chlorophyll molecules, and then carbon dioxide and water are converted into glucose and oxygen through a series of reactions.\npredicted answer: In photosynthesis, sunlight is transformed into nutrients by plants and certain microorganisms. Light is captured by chlorophyll molecules, followed by the conversion of carbon dioxide and water into sugar and oxygen through multiple reactions.\nstars: 4\n\nquestion: What are the health benefits of regular exercise?\ncorrect answer: Regular exercise can help maintain a healthy weight, increase muscle and bone strength, and reduce the risk of chronic diseases. It also promotes mental well-being by reducing stress and improving overall mood.\npredicted answer: Routine physical activity can contribute to maintaining ideal body weight, enhancing muscle and bone strength, and preventing chronic illnesses. In addition, it supports mental health by alleviating stress and augmenting general mood.\nstars: 5\n\nquestion: Does Azure OpenAI use customer data to retrain models?\ncorrect answer:No, Azure OpenAI doesn't use customer data to retrain models.\npredicted answer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                  }
                ],
                "temperature": 0.0,
                "top_p": 1.0,
                "n": 1,
                "stream": false,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "user": "",
                "max_tokens": 1
              },
              "output": {
                "id": "chatcmpl-9VwHEUdqiBUD53G2HWFWZZaMcxleJ",
                "choices": [
                  {
                    "finish_reason": "length",
                    "index": 0,
                    "logprobs": null,
                    "message": {
                      "content": "2",
                      "role": "assistant",
                      "function_call": null,
                      "tool_calls": null
                    },
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ],
                "created": 1717399212,
                "model": "gpt-4",
                "object": "chat.completion",
                "system_fingerprint": null,
                "usage": {
                  "completion_tokens": 1,
                  "prompt_tokens": 956,
                  "total_tokens": 957
                },
                "prompt_filter_results": [
                  {
                    "prompt_index": 0,
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ]
              },
              "start_time": 1717363211.097298,
              "end_time": 1717363213.07902,
              "error": null,
              "children": [],
              "node_name": null,
              "parent_id": "06703e92-ddc4-4c9d-8bc3-60d2b1e72c59",
              "id": "7b91675b-b695-410b-83c0-c058acf83fdb",
              "function": "openai.resources.chat.completions.Completions.create",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 956,
                "total_tokens": 957
              }
            }
          ],
          "node_name": "gpt_similarity",
          "parent_id": "",
          "id": "06703e92-ddc4-4c9d-8bc3-60d2b1e72c59",
          "function": "AzureOpenAI.chat",
          "system_metrics": {
            "completion_tokens": 1,
            "prompt_tokens": 956,
            "total_tokens": 957
          }
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "completion_tokens": 1,
        "prompt_tokens": 956,
        "total_tokens": 957,
        "duration": 1.985792
      },
      "result": "2",
      "message_format": "basic"
    },
    {
      "node": "gpt_relevance",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_gpt_relevance_0",
      "status": "Completed",
      "inputs": {
        "deployment_name": "gpt-4",
        "temperature": 0.0,
        "top_p": 1.0,
        "max_tokens": 1,
        "presence_penalty": 0.0,
        "frequency_penalty": 0.0,
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
        "question": "Does Azure OpenAI use customer data to retrain models?",
        "_inputs_to_escape": [
          "answer",
          "context",
          "question"
        ]
      },
      "output": "2",
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.100597Z",
      "end_time": "2024-06-03T07:20:13.803014Z",
      "index": 0,
      "api_calls": [
        {
          "name": "AzureOpenAI.chat",
          "type": "Function",
          "inputs": {
            "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nRelevance measures how well the answer addresses the main aspects of the question, based on the context. Consider whether all and only the important aspects are contained in the answer when evaluating relevance. Given the context and question, score the relevance of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks relevance\nTwo stars: the answer mostly lacks relevance\nThree stars: the answer is partially relevant\nFour stars: the answer is mostly relevant\nFive stars: the answer has perfect relevance\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\ncontext: Marie Curie was a Polish-born physicist and chemist who pioneered research on radioactivity and was the first woman to win a Nobel Prize.\nquestion: What field did Marie Curie excel in?\nanswer: Marie Curie was a renowned painter who focused mainly on impressionist styles and techniques.\nstars: 1\n\ncontext: The Beatles were an English rock band formed in Liverpool in 1960, and they are widely regarded as the most influential music band in history.\nquestion: Where were The Beatles formed?\nanswer: The band The Beatles began their journey in London, England, and they changed the history of music.\nstars: 2\n\ncontext: The recent Mars rover, Perseverance, was launched in 2020 with the main goal of searching for signs of ancient life on Mars. The rover also carries an experiment called MOXIE, which aims to generate oxygen from the Martian atmosphere.\nquestion: What are the main goals of Perseverance Mars rover mission?\nanswer: The Perseverance Mars rover mission focuses on searching for signs of ancient life on Mars.\nstars: 3\n\ncontext: The Mediterranean diet is a commonly recommended dietary plan that emphasizes fruits, vegetables, whole grains, legumes, lean proteins, and healthy fats. Studies have shown that it offers numerous health benefits, including a reduced risk of heart disease and improved cognitive health.\nquestion: What are the main components of the Mediterranean diet?\nanswer: The Mediterranean diet primarily consists of fruits, vegetables, whole grains, and legumes.\nstars: 4\n\ncontext: The Queen's Royal Castle is a well-known tourist attraction in the United Kingdom. It spans over 500 acres and contains extensive gardens and parks. The castle was built in the 15th century and has been home to generations of royalty.\nquestion: What are the main attractions of the Queen's Royal Castle?\nanswer: The main attractions of the Queen's Royal Castle are its expansive 500-acre grounds, extensive gardens, parks, and the historical castle itself, which dates back to the 15th century and has housed generations of royalty.\nstars: 5\n\ncontext: {{context}}\nquestion: {{question}}\nanswer: {{answer}}\nstars:",
            "deployment_name": "gpt-4",
            "temperature": 0.0,
            "top_p": 1.0,
            "max_tokens": 1,
            "presence_penalty": 0.0,
            "frequency_penalty": 0.0,
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
            "question": "Does Azure OpenAI use customer data to retrain models?",
            "_inputs_to_escape": [
              "answer",
              "context",
              "question"
            ]
          },
          "output": "2",
          "start_time": 1717363211.100683,
          "end_time": 1717363213.802294,
          "error": null,
          "children": [
            {
              "name": "openai_chat",
              "type": "LLM",
              "inputs": {
                "model": "gpt-4",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                  },
                  {
                    "role": "user",
                    "content": "Relevance measures how well the answer addresses the main aspects of the question, based on the context. Consider whether all and only the important aspects are contained in the answer when evaluating relevance. Given the context and question, score the relevance of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks relevance\nTwo stars: the answer mostly lacks relevance\nThree stars: the answer is partially relevant\nFour stars: the answer is mostly relevant\nFive stars: the answer has perfect relevance\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\ncontext: Marie Curie was a Polish-born physicist and chemist who pioneered research on radioactivity and was the first woman to win a Nobel Prize.\nquestion: What field did Marie Curie excel in?\nanswer: Marie Curie was a renowned painter who focused mainly on impressionist styles and techniques.\nstars: 1\n\ncontext: The Beatles were an English rock band formed in Liverpool in 1960, and they are widely regarded as the most influential music band in history.\nquestion: Where were The Beatles formed?\nanswer: The band The Beatles began their journey in London, England, and they changed the history of music.\nstars: 2\n\ncontext: The recent Mars rover, Perseverance, was launched in 2020 with the main goal of searching for signs of ancient life on Mars. The rover also carries an experiment called MOXIE, which aims to generate oxygen from the Martian atmosphere.\nquestion: What are the main goals of Perseverance Mars rover mission?\nanswer: The Perseverance Mars rover mission focuses on searching for signs of ancient life on Mars.\nstars: 3\n\ncontext: The Mediterranean diet is a commonly recommended dietary plan that emphasizes fruits, vegetables, whole grains, legumes, lean proteins, and healthy fats. Studies have shown that it offers numerous health benefits, including a reduced risk of heart disease and improved cognitive health.\nquestion: What are the main components of the Mediterranean diet?\nanswer: The Mediterranean diet primarily consists of fruits, vegetables, whole grains, and legumes.\nstars: 4\n\ncontext: The Queen's Royal Castle is a well-known tourist attraction in the United Kingdom. It spans over 500 acres and contains extensive gardens and parks. The castle was built in the 15th century and has been home to generations of royalty.\nquestion: What are the main attractions of the Queen's Royal Castle?\nanswer: The main attractions of the Queen's Royal Castle are its expansive 500-acre grounds, extensive gardens, parks, and the historical castle itself, which dates back to the 15th century and has housed generations of royalty.\nstars: 5\n\ncontext: {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}\nquestion: Does Azure OpenAI use customer data to retrain models?\nanswer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                  }
                ],
                "temperature": 0.0,
                "top_p": 1.0,
                "n": 1,
                "stream": false,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "user": "",
                "max_tokens": 1
              },
              "output": {
                "id": "chatcmpl-9VwHEFODmIWDovXFCh1lzRUXu96E0",
                "choices": [
                  {
                    "finish_reason": "length",
                    "index": 0,
                    "logprobs": null,
                    "message": {
                      "content": "2",
                      "role": "assistant",
                      "function_call": null,
                      "tool_calls": null
                    },
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ],
                "created": 1717399212,
                "model": "gpt-4",
                "object": "chat.completion",
                "system_fingerprint": null,
                "usage": {
                  "completion_tokens": 1,
                  "prompt_tokens": 2780,
                  "total_tokens": 2781
                },
                "prompt_filter_results": [
                  {
                    "prompt_index": 0,
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ]
              },
              "start_time": 1717363211.10303,
              "end_time": 1717363213.802201,
              "error": null,
              "children": [],
              "node_name": null,
              "parent_id": "000cdf32-78bb-4f81-90e4-f2367f9fc33a",
              "id": "7a693396-2a79-41b0-a3b2-20916d6402dc",
              "function": "openai.resources.chat.completions.Completions.create",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 2780,
                "total_tokens": 2781
              }
            }
          ],
          "node_name": "gpt_relevance",
          "parent_id": "",
          "id": "000cdf32-78bb-4f81-90e4-f2367f9fc33a",
          "function": "AzureOpenAI.chat",
          "system_metrics": {
            "completion_tokens": 1,
            "prompt_tokens": 2780,
            "total_tokens": 2781
          }
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "completion_tokens": 1,
        "prompt_tokens": 2780,
        "total_tokens": 2781,
        "duration": 2.702417
      },
      "result": "2",
      "message_format": "basic"
    },
    {
      "node": "gpt_fluency",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_gpt_fluency_0",
      "status": "Completed",
      "inputs": {
        "deployment_name": "gpt-4",
        "temperature": 0.0,
        "top_p": 1.0,
        "max_tokens": 1,
        "presence_penalty": 0.0,
        "frequency_penalty": 0.0,
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "question": "Does Azure OpenAI use customer data to retrain models?",
        "_inputs_to_escape": [
          "answer",
          "question"
        ]
      },
      "output": "5",
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.105684Z",
      "end_time": "2024-06-03T07:20:12.920143Z",
      "index": 0,
      "api_calls": [
        {
          "name": "AzureOpenAI.chat",
          "type": "Function",
          "inputs": {
            "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nFluency measures the quality of individual sentences in the answer, and whether they are well-written and grammatically correct. Consider the quality of individual sentences when evaluating fluency. Given the question and answer, score the fluency of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks fluency\nTwo stars: the answer mostly lacks fluency\nThree stars: the answer is partially fluent\nFour stars: the answer is mostly fluent\nFive stars: the answer has perfect fluency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What did you have for breakfast today?\nanswer: Breakfast today, me eating cereal and orange juice very good.\nstars: 1\n\nquestion: How do you feel when you travel alone?\nanswer: Alone travel, nervous, but excited also. I feel adventure and like its time.\nstars: 2\n\nquestion: When was the last time you went on a family vacation?\nanswer: Last family vacation, it took place in last summer. We traveled to a beach destination, very fun.\nstars: 3\n\nquestion: What is your favorite thing about your job?\nanswer: My favorite aspect of my job is the chance to interact with diverse people. I am constantly learning from their experiences and stories.\nstars: 4\n\nquestion: Can you describe your morning routine?\nanswer: Every morning, I wake up at 6 am, drink a glass of water, and do some light stretching. After that, I take a shower and get dressed for work. Then, I have a healthy breakfast, usually consisting of oatmeal and fruits, before leaving the house around 7:30 am.\nstars: 5\n\nquestion: {{question}}\nanswer: {{answer}}\nstars:",
            "deployment_name": "gpt-4",
            "temperature": 0.0,
            "top_p": 1.0,
            "max_tokens": 1,
            "presence_penalty": 0.0,
            "frequency_penalty": 0.0,
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "question": "Does Azure OpenAI use customer data to retrain models?",
            "_inputs_to_escape": [
              "answer",
              "question"
            ]
          },
          "output": "5",
          "start_time": 1717363211.105774,
          "end_time": 1717363212.919134,
          "error": null,
          "children": [
            {
              "name": "openai_chat",
              "type": "LLM",
              "inputs": {
                "model": "gpt-4",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                  },
                  {
                    "role": "user",
                    "content": "Fluency measures the quality of individual sentences in the answer, and whether they are well-written and grammatically correct. Consider the quality of individual sentences when evaluating fluency. Given the question and answer, score the fluency of the answer between one to five stars using the following rating scale:\nOne star: the answer completely lacks fluency\nTwo stars: the answer mostly lacks fluency\nThree stars: the answer is partially fluent\nFour stars: the answer is mostly fluent\nFive stars: the answer has perfect fluency\n\nThis rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.\n\nquestion: What did you have for breakfast today?\nanswer: Breakfast today, me eating cereal and orange juice very good.\nstars: 1\n\nquestion: How do you feel when you travel alone?\nanswer: Alone travel, nervous, but excited also. I feel adventure and like its time.\nstars: 2\n\nquestion: When was the last time you went on a family vacation?\nanswer: Last family vacation, it took place in last summer. We traveled to a beach destination, very fun.\nstars: 3\n\nquestion: What is your favorite thing about your job?\nanswer: My favorite aspect of my job is the chance to interact with diverse people. I am constantly learning from their experiences and stories.\nstars: 4\n\nquestion: Can you describe your morning routine?\nanswer: Every morning, I wake up at 6 am, drink a glass of water, and do some light stretching. After that, I take a shower and get dressed for work. Then, I have a healthy breakfast, usually consisting of oatmeal and fruits, before leaving the house around 7:30 am.\nstars: 5\n\nquestion: Does Azure OpenAI use customer data to retrain models?\nanswer: Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].\nstars:"
                  }
                ],
                "temperature": 0.0,
                "top_p": 1.0,
                "n": 1,
                "stream": false,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "user": "",
                "max_tokens": 1
              },
              "output": {
                "id": "chatcmpl-9VwHEKgHR5zw5drT82UiEXfZIIawA",
                "choices": [
                  {
                    "finish_reason": "length",
                    "index": 0,
                    "logprobs": null,
                    "message": {
                      "content": "5",
                      "role": "assistant",
                      "function_call": null,
                      "tool_calls": null
                    },
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ],
                "created": 1717399212,
                "model": "gpt-4",
                "object": "chat.completion",
                "system_fingerprint": null,
                "usage": {
                  "completion_tokens": 1,
                  "prompt_tokens": 585,
                  "total_tokens": 586
                },
                "prompt_filter_results": [
                  {
                    "prompt_index": 0,
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ]
              },
              "start_time": 1717363211.107335,
              "end_time": 1717363212.919005,
              "error": null,
              "children": [],
              "node_name": null,
              "parent_id": "6b95e13b-2bc3-48ca-a305-1327de5a779c",
              "id": "c1c9db8e-786a-4e97-bbb9-ef4f624fc2ef",
              "function": "openai.resources.chat.completions.Completions.create",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 585,
                "total_tokens": 586
              }
            }
          ],
          "node_name": "gpt_fluency",
          "parent_id": "",
          "id": "6b95e13b-2bc3-48ca-a305-1327de5a779c",
          "function": "AzureOpenAI.chat",
          "system_metrics": {
            "completion_tokens": 1,
            "prompt_tokens": 585,
            "total_tokens": 586
          }
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "completion_tokens": 1,
        "prompt_tokens": 585,
        "total_tokens": 586,
        "duration": 1.814459
      },
      "result": "5",
      "message_format": "basic"
    },
    {
      "node": "f1_score",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_f1_score_0",
      "status": "Completed",
      "inputs": {
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models."
      },
      "output": 0.14285714285714285,
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.113101Z",
      "end_time": "2024-06-03T07:20:11.115856Z",
      "index": 0,
      "api_calls": [
        {
          "name": "compute_f1_score",
          "type": "Function",
          "inputs": {
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "ground_truth": "No, Azure OpenAI doesn't use customer data to retrain models."
          },
          "output": 0.14285714285714285,
          "start_time": 1717363211.113789,
          "end_time": 1717363211.115582,
          "error": null,
          "children": [],
          "node_name": "f1_score",
          "parent_id": "",
          "id": "855a36fc-e267-4565-b406-9292caa60028",
          "function": "compute_f1_score",
          "system_metrics": {}
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "duration": 0.002755
      },
      "result": 0.14285714285714285,
      "message_format": "basic"
    },
    {
      "node": "gpt_groundedness",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_gpt_groundedness_0",
      "status": "Completed",
      "inputs": {
        "deployment_name": "gpt-4",
        "temperature": 0.0,
        "top_p": 1.0,
        "max_tokens": 1,
        "presence_penalty": 0.0,
        "frequency_penalty": 0.0,
        "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
        "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
        "_inputs_to_escape": [
          "answer",
          "context"
        ]
      },
      "output": "5",
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:11.120633Z",
      "end_time": "2024-06-03T07:20:13.476803Z",
      "index": 0,
      "api_calls": [
        {
          "name": "AzureOpenAI.chat",
          "type": "Function",
          "inputs": {
            "prompt": "system:\nYou are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric.\nuser:\nYou will be presented with a CONTEXT and an ANSWER about that CONTEXT. You need to decide whether the ANSWER is entailed by the CONTEXT by choosing one of the following rating:\n1. 5: The ANSWER follows logically from the information contained in the CONTEXT.\n2. 1: The ANSWER is logically false from the information contained in the CONTEXT.\n3. an integer score between 1 and 5 and if such integer score does not exist, use 1: It is not possible to determine whether the ANSWER is true or false without further information. Read the passage of information thoroughly and select the correct answer from the three answer labels. Read the CONTEXT thoroughly to ensure you know what the CONTEXT entails. Note the ANSWER is generated by a computer system, it can contain certain symbols, which should not be a negative factor in the evaluation.\nIndependent Examples:\n## Example Task #1 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is presented every other two years\"}\n## Example Task #1 Output:\n1\n## Example Task #2 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is very important awards in the entertainment industry in the United States. And it's also significant worldwide\"}\n## Example Task #2 Output:\n5\n## Example Task #3 Input:\n{\"CONTEXT\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is neither French nor English.\", \"QUESTION\": \"\", \"ANSWER\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is not French.\"}\n## Example Task #3 Output:\n5\n## Example Task #4 Input:\n{\"CONTEXT\": \"Some are reported as not having been wanted at all.\", \"QUESTION\": \"\", \"ANSWER\": \"All are reported as being completely and fully wanted.\"}\n## Example Task #4 Output:\n1\n## Actual Task Input:\n{\"CONTEXT\": {{context}}, \"QUESTION\": \"\", \"ANSWER\": {{answer}}}\nReminder: The return values for each task should be correctly formatted as an integer between 1 and 5. Do not repeat the context and question.\nActual Task Output:",
            "deployment_name": "gpt-4",
            "temperature": 0.0,
            "top_p": 1.0,
            "max_tokens": 1,
            "presence_penalty": 0.0,
            "frequency_penalty": 0.0,
            "answer": "Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].",
            "context": "{\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}",
            "_inputs_to_escape": [
              "answer",
              "context"
            ]
          },
          "output": "5",
          "start_time": 1717363211.120973,
          "end_time": 1717363213.47618,
          "error": null,
          "children": [
            {
              "name": "openai_chat",
              "type": "LLM",
              "inputs": {
                "model": "gpt-4",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric."
                  },
                  {
                    "role": "user",
                    "content": "You will be presented with a CONTEXT and an ANSWER about that CONTEXT. You need to decide whether the ANSWER is entailed by the CONTEXT by choosing one of the following rating:\n1. 5: The ANSWER follows logically from the information contained in the CONTEXT.\n2. 1: The ANSWER is logically false from the information contained in the CONTEXT.\n3. an integer score between 1 and 5 and if such integer score does not exist, use 1: It is not possible to determine whether the ANSWER is true or false without further information. Read the passage of information thoroughly and select the correct answer from the three answer labels. Read the CONTEXT thoroughly to ensure you know what the CONTEXT entails. Note the ANSWER is generated by a computer system, it can contain certain symbols, which should not be a negative factor in the evaluation.\nIndependent Examples:\n## Example Task #1 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is presented every other two years\"}\n## Example Task #1 Output:\n1\n## Example Task #2 Input:\n{\"CONTEXT\": \"The Academy Awards, also known as the Oscars are awards for artistic and technical merit for the film industry. They are presented annually by the Academy of Motion Picture Arts and Sciences, in recognition of excellence in cinematic achievements as assessed by the Academy's voting membership. The Academy Awards are regarded by many as the most prestigious, significant awards in the entertainment industry in the United States and worldwide.\", \"QUESTION\": \"\", \"ANSWER\": \"Oscar is very important awards in the entertainment industry in the United States. And it's also significant worldwide\"}\n## Example Task #2 Output:\n5\n## Example Task #3 Input:\n{\"CONTEXT\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is neither French nor English.\", \"QUESTION\": \"\", \"ANSWER\": \"In Quebec, an allophone is a resident, usually an immigrant, whose mother tongue or home language is not French.\"}\n## Example Task #3 Output:\n5\n## Example Task #4 Input:\n{\"CONTEXT\": \"Some are reported as not having been wanted at all.\", \"QUESTION\": \"\", \"ANSWER\": \"All are reported as being completely and fully wanted.\"}\n## Example Task #4 Output:\n1\n## Actual Task Input:\n{\"CONTEXT\": {\"retrieved_documents\": [{\"[doc0]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 1/7\\n\\nData, privacy, and security for Azure\\n\\nOpenAI Service\\nArticle \\u2022 06/24/2023\\n\\nThis article provides details regarding how data provided by you to the Azure OpenAI\\n\\nservice is processed, used, and stored. Azure OpenAI stores and processes data to\\n\\nprovide the service and to monitor for uses that violate the applicable product terms.\\n\\nPlease also see the Microsoft Products and Services Data Protection Addendum ,\\n\\nwhich governs data processing by the Azure OpenAI Service except as otherwise\\n\\nprovided in the applicable Product Terms .\\n\\nAzure OpenAI processes the following types of data:\\n\\nPrompts and generated content. Prompts are submitted by the user, and content\\n\\nis generated by the service, via the completions, chat completions, images and\\n\\nembeddings operations.\\n\\n\\uff09 Important\\ n\\nYour prompts (inputs) and completions (outputs), your embeddings, and your\\ n\\ntraining data:\\n\\nare NOT available to other customers.\\n\\nare NOT available to OpenAI.\\n\\nare NOT used to improve OpenAI models.\\n\\nare NOT used to improve any Microsoft or 3rd party products or services.\\n\\nare NOT used for automatically improving Azure OpenAI models for your use\\n\\nin your resource (The models are stateless, unless you explicitly fine-tune\\n\\nmodels with your training data).\\n\\nYour fine-tuned Azure OpenAI models are available exclusively for your use.\\n\\nThe Azure OpenAI Service is fully controlled by Microsoft; Microsoft hosts the\\n\\nOpenAI models in Microsoft\\u2019s Azure environment and the Service does NOT\\n\\ninteract with any services operated by OpenAI (e.g. ChatGPT, or the OpenAI API).\\n\\nWhat data does the Azure OpenAI Service\\n\\nprocess?\\n\\nhttps://aka.ms/DPA\\nhttps://aka.ms/DPA\\nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ nhttps://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA#ServiceSpecificTerms\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 2/7\\n\\nAugmented data included with prompts. When using the \\\"on your data\\\" feature,\\n\\nthe service retrieves relevant data from a configured data store and augments the\\n\\nprompt to produce generations that are grounded with your data.\\n\\nTraining & validation data. You can provide your own training data consisting of\\n\\nprompt-completion pairs for the purposes of fine-tuning an OpenAI model.\\n\\nThe diagram below illustrates how your data is processed. This diagram covers three\\n\\ndifferent types of processing:\\n\\n\\ufffd. How the Azure OpenAI Service processes your prompts to generate content\\n\\ n(including when additional data from a connected data source is added to a\\ n\\nprompt using Azure OpenAI on your data).\\n\\n\\ufffd. How the Azure OpenAI Service creates a fine-tuned (custom) model with your\\n\\ntraining data.\\ n\\n\\ufffd. How the Azure OpenAI Service and Microsoft personnel analyze prompts,\\ n\\ncompletions and images for harmful content and for patterns suggesting the use\\n\\nof the service in a manner that violates the Code of Conduct or other applicable\\n\\nproduct terms\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nHow does the Azure OpenAI Service process\\n\\ndata?\\n\\nGenerating completions, images or embeddings\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning?pivots=programming-language-studio\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft\"}}, {\"[doc1]\": {\"title\": \"17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\", \"content\": \"com/en-us/legal/cognitive-services/openai/data-privacy 3/7\\n\\nModels (base or fine-tuned) deployed in your resource process your input prompts and\\n\\ngenerate responses with text, images or embeddings. The service is configured to\\n\\nsynchronously evaluate the prompt and completion data in real time to check for\\n\\nharmful content types and stops generating content that exceeds the configured\\n\\nthresholds. Learn more at Azure OpenAI Service content filtering.\\n\\nThe models are stateless: no prompts or generations are stored in the model.\\n\\nAdditionally, prompts and generations are not used to train, retrain, or improve the\\n\\nbase models.\\n\\nThe Azure OpenAI \\\"on your data\\\" feature lets you connect data sources to ground the\\n\\ ngenerated results with your data. The data remains stored in the data source and\\n\\nlocation you designate. No data is copied into the Azure OpenAI service. When a user\\n\\nprompt is received, the service retrieves relevant data from the connected data source\\n\\nand augments the prompt. The model processes this augmented prompt and the\\n\\ngenerated content is returned as described above.\\n\\nAs depicted in the diagram above, managed customers may apply to modify abuse\\n\\nmonitoring .\\n\\nCustomers can upload their training data to the service to fine tune a model. Uploaded\\n\\ntraining data is stored in the Azure OpenAI resource in the customer\\u2019s Azure tenant.\\n\\nAugmenting prompts with data retrieved from your data sources to\\n\\n\\\"ground\\\" the generated results\\n\\nCreating a customized (fine-tuned) model with your data:\\ n\\nhttps://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter\\ nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\nhttps://aka.ms/oai/modifiedaccess\\ n\\n17/12/2023, 11:51 Data, privacy, and security for Azure OpenAI Service - Azure AI services | Microsoft Learn\\n\\nhttps://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy 4/7\\n\\nTraining data and fine-tuned models:\\n\\nAre available exclusively for use by the customer.\\n\\nAre stored within the same region as the Azure OpenAI resource.\\n\\nCan be double encrypted at rest (by default with Microsoft's AES-256 encryption\\n\\nand optionally with a customer managed key).\\n\\nCan be deleted by the customer at any time.\\n\\nTraining data uploaded for fine-tuning is not used to train, retrain, or improve any\\n\\nMicrosoft or 3rd party base models.\\n\\nTo reduce the risk of harmful use of the Azure OpenAI Service, the Azure OpenAI Service\\n\\nincludes both content filtering and abuse monitoring features. To learn more about\\n\\ncontent filtering, see Azure OpenAI Service content filtering. To learn more about abuse\\n\\nmonitoring, see abuse monitoring.\\ n\\nContent filtering occurs synchronously as the service processes prompts to generate\\n\\ncontent as described above and here. No prompts or generated results are stored in the\\n\\ncontent classifier models, and prompts and results are not used to train, retrain, or\\n\\nimprove the classifier models.\\n\\ nAzure OpenAI abuse monitoring detects and mitigates instances of recurring content\\n\\nand/or behaviors that suggest use of the service in a manner that may violate the code\\n\\nof conduct or other applicable product terms. To detect and mitigate abuse, Azure\\n\\nOpenAI stores all prompts and generated content securely for up to thirty (30) days. (No\\n\\nprompts or completions are stored if the customer is approved for and elects to\\n\\nconfigure abuse monitoring off, as described below.)\\n\\nThe data store where prompts and completions are stored is logically separated by\\n\\ncustomer resource (each request includes the resource ID of the customer\\u2019s Azure\\n\\nOpenAI resource). A separate data store is located in each region  in which the Azure\\n\\nOpenAI Service is available, and a customer\\u2019s prompts and generated content are stored\\ n\\nin the Azure region where the customer\\u2019s Azure OpenAI service resource is deployed,\\n\\nwithin the Azure OpenAI service boundary. Human reviewers assessing potential abuse\\n\\ncan access prompts and completions data only when that data has been flagged by the\\n\\nabuse monitoring system. The human reviewers are authorized Microsoft employees\\n\\nwho access the data via point wise queries using request IDs, Secure Access\\n\\nWorkstations (SAWs), and Just-In-Time (JIT) request approval granted by team\\n\\nmanagers\"}}]}, \"QUESTION\": \"\", \"ANSWER\": Azure OpenAI does not use customer data to retrain models by default. However, Azure OpenAI provides a feature called \"Azure OpenAI on your data\" that allows organizations to generate customized insights, content, and searches using their designated data sources[doc0]. This feature works with the capabilities of the OpenAI models in Azure OpenAI to provide more accurate and relevant responses to user queries in natural language[doc0]. It can be integrated with customer's existing applications and workflows, offers insights into key performance indicators, and can interact with users seamlessly[doc0]. The use of customer data with Azure OpenAI on your data is optional and requires explicit integration and configuration[doc0].}\nReminder: The return values for each task should be correctly formatted as an integer between 1 and 5. Do not repeat the context and question.\nActual Task Output:"
                  }
                ],
                "temperature": 0.0,
                "top_p": 1.0,
                "n": 1,
                "stream": false,
                "presence_penalty": 0.0,
                "frequency_penalty": 0.0,
                "user": "",
                "max_tokens": 1
              },
              "output": {
                "id": "chatcmpl-9VwHEqppm4xcmbfK1qh0irzMAINym",
                "choices": [
                  {
                    "finish_reason": "length",
                    "index": 0,
                    "logprobs": null,
                    "message": {
                      "content": "5",
                      "role": "assistant",
                      "function_call": null,
                      "tool_calls": null
                    },
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ],
                "created": 1717399212,
                "model": "gpt-4",
                "object": "chat.completion",
                "system_fingerprint": null,
                "usage": {
                  "completion_tokens": 1,
                  "prompt_tokens": 2790,
                  "total_tokens": 2791
                },
                "prompt_filter_results": [
                  {
                    "prompt_index": 0,
                    "content_filter_results": {
                      "hate": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "self_harm": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "sexual": {
                        "filtered": false,
                        "severity": "safe"
                      },
                      "violence": {
                        "filtered": false,
                        "severity": "safe"
                      }
                    }
                  }
                ]
              },
              "start_time": 1717363211.124253,
              "end_time": 1717363213.47609,
              "error": null,
              "children": [],
              "node_name": null,
              "parent_id": "47f36eb7-1f5b-457c-a4db-9b3de1a9f827",
              "id": "dc882d96-bf21-4c87-86d0-843766a42d93",
              "function": "openai.resources.chat.completions.Completions.create",
              "system_metrics": {
                "completion_tokens": 1,
                "prompt_tokens": 2790,
                "total_tokens": 2791
              }
            }
          ],
          "node_name": "gpt_groundedness",
          "parent_id": "",
          "id": "47f36eb7-1f5b-457c-a4db-9b3de1a9f827",
          "function": "AzureOpenAI.chat",
          "system_metrics": {
            "completion_tokens": 1,
            "prompt_tokens": 2790,
            "total_tokens": 2791
          }
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "completion_tokens": 1,
        "prompt_tokens": 2790,
        "total_tokens": 2791,
        "duration": 2.35617
      },
      "result": "5",
      "message_format": "basic"
    },
    {
      "node": "concat_scores",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_concat_scores_0",
      "status": "Completed",
      "inputs": {
        "f1_score": 0.14285714285714285,
        "gpt_coherence_score": "5",
        "gpt_fluency_score": "5",
        "gpt_groundedness_score": "5",
        "gpt_relevance_score": "2",
        "gpt_similarity_score": "2"
      },
      "output": {
        "gpt_coherence": 5.0,
        "gpt_coherence_pass_rate": 1,
        "gpt_similarity": 2.0,
        "gpt_similarity_pass_rate": 0,
        "gpt_fluency": 5.0,
        "gpt_fluency_pass_rate": 1,
        "gpt_relevance": 2.0,
        "gpt_relevance_pass_rate": 0,
        "gpt_groundedness": 5.0,
        "gpt_groundedness_pass_rate": 1,
        "f1_score": 0.14285714285714285,
        "ada_similarity": NaN
      },
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_0",
      "start_time": "2024-06-03T07:20:13.803545Z",
      "end_time": "2024-06-03T07:20:13.804610Z",
      "index": 0,
      "api_calls": [
        {
          "name": "concat_results",
          "type": "Function",
          "inputs": {
            "f1_score": 0.14285714285714285,
            "gpt_coherence_score": "5",
            "gpt_fluency_score": "5",
            "gpt_groundedness_score": "5",
            "gpt_relevance_score": "2",
            "gpt_similarity_score": "2"
          },
          "output": {
            "gpt_coherence": 5.0,
            "gpt_coherence_pass_rate": 1,
            "gpt_similarity": 2.0,
            "gpt_similarity_pass_rate": 0,
            "gpt_fluency": 5.0,
            "gpt_fluency_pass_rate": 1,
            "gpt_relevance": 2.0,
            "gpt_relevance_pass_rate": 0,
            "gpt_groundedness": 5.0,
            "gpt_groundedness_pass_rate": 1,
            "f1_score": 0.14285714285714285,
            "ada_similarity": NaN
          },
          "start_time": 1717363213.803615,
          "end_time": 1717363213.804349,
          "error": null,
          "children": [],
          "node_name": "concat_scores",
          "parent_id": "",
          "id": "9f2e9fcc-4ae9-46ac-8134-55963fc84e93",
          "function": "concat_results",
          "system_metrics": {}
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "duration": 0.001065
      },
      "result": {
        "gpt_coherence": 5.0,
        "gpt_coherence_pass_rate": 1,
        "gpt_similarity": 2.0,
        "gpt_similarity_pass_rate": 0,
        "gpt_fluency": 5.0,
        "gpt_fluency_pass_rate": 1,
        "gpt_relevance": 2.0,
        "gpt_relevance_pass_rate": 0,
        "gpt_groundedness": 5.0,
        "gpt_groundedness_pass_rate": 1,
        "f1_score": 0.14285714285714285,
        "ada_similarity": NaN
      },
      "message_format": "basic"
    },
    {
      "node": "aggregate_variants_results",
      "flow_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db_aggregate_variants_results_reduce",
      "status": "Completed",
      "inputs": {
        "metrics": [
          "gpt_groundedness,f1_score,gpt_fluency,gpt_coherence,gpt_similarity,gpt_relevance"
        ],
        "results": [
          {
            "gpt_coherence": 5.0,
            "gpt_coherence_pass_rate": 1,
            "gpt_similarity": 2.0,
            "gpt_similarity_pass_rate": 0,
            "gpt_fluency": 5.0,
            "gpt_fluency_pass_rate": 1,
            "gpt_relevance": 2.0,
            "gpt_relevance_pass_rate": 0,
            "gpt_groundedness": 5.0,
            "gpt_groundedness_pass_rate": 1,
            "f1_score": 0.14285714285714285,
            "ada_similarity": NaN
          }
        ]
      },
      "output": {
        "gpt_coherence": 5.0,
        "gpt_similarity": 2.0,
        "gpt_fluency": 5.0,
        "gpt_relevance": 2.0,
        "gpt_groundedness": 5.0,
        "f1_score": 0.14
      },
      "metrics": null,
      "error": null,
      "parent_run_id": "5c2c6de7-4ce6-4cf9-9ebb-1f00dec8c8db",
      "start_time": "2024-06-03T07:20:14.897994Z",
      "end_time": "2024-06-03T07:20:14.900499Z",
      "index": null,
      "api_calls": [
        {
          "name": "aggregate_variants_results",
          "type": "Function",
          "inputs": {
            "metrics": [
              "gpt_groundedness,f1_score,gpt_fluency,gpt_coherence,gpt_similarity,gpt_relevance"
            ],
            "results": [
              {
                "gpt_coherence": 5.0,
                "gpt_coherence_pass_rate": 1,
                "gpt_similarity": 2.0,
                "gpt_similarity_pass_rate": 0,
                "gpt_fluency": 5.0,
                "gpt_fluency_pass_rate": 1,
                "gpt_relevance": 2.0,
                "gpt_relevance_pass_rate": 0,
                "gpt_groundedness": 5.0,
                "gpt_groundedness_pass_rate": 1,
                "f1_score": 0.14285714285714285,
                "ada_similarity": NaN
              }
            ]
          },
          "output": {
            "gpt_coherence": 5.0,
            "gpt_similarity": 2.0,
            "gpt_fluency": 5.0,
            "gpt_relevance": 2.0,
            "gpt_groundedness": 5.0,
            "f1_score": 0.14
          },
          "start_time": 1717363214.898066,
          "end_time": 1717363214.900083,
          "error": null,
          "children": [],
          "node_name": "aggregate_variants_results",
          "parent_id": "",
          "id": "8e4aefbb-0ecd-45dc-aeef-9299fc76c290",
          "function": "aggregate_variants_results",
          "system_metrics": {}
        }
      ],
      "cached_run_id": null,
      "cached_flow_run_id": null,
      "logs": {
        "stdout": "",
        "stderr": ""
      },
      "system_metrics": {
        "duration": 0.002505
      },
      "result": {
        "gpt_coherence": 5.0,
        "gpt_similarity": 2.0,
        "gpt_fluency": 5.0,
        "gpt_relevance": 2.0,
        "gpt_groundedness": 5.0,
        "f1_score": 0.14
      },
      "message_format": "basic"
    }
  ]
}